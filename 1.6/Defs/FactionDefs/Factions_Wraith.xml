<?xml version="1.0" encoding="utf-8"?>
<Defs>

  <FactionDef ParentName="FactionBase">
    <defName>Rimgate_WraithEmpire</defName>
    <categoryTag>Rimgate_WraithFaction</categoryTag>
    <label>Wraith Colony</label>
    <description>A predatory hive ruled by telepathic queens with the galaxy's worst diet plan—you.\n\nCut off from the wider Wraith collective by a private gate lattice, this splinter colony feeds, studies, and schemes in isolation. They're hunting for ancient Archotech signals while plotting to convert the local biosphere into a convenient snack bar. But life isn't easy.\n\nSandwiched between their sworn blood-enemies in the Empire and relentless Sanguophages—who view them as walking human resource competitors—the Wraith are under constant pressure. Those pale hunger-fiends see the Wraith as a threat to their own terrible plans. One thing's certain: they've been desperately consolidating any ancient outposts they can find, searching for something that might tip the scales in their favor.</description>
    <pawnsPlural>Wraith</pawnsPlural>
    <requiredCountAtGameStart>1</requiredCountAtGameStart>
    <maxConfigurableAtWorldCreation>1</maxConfigurableAtWorldCreation>
    <settlementGenerationWeight>0.25</settlementGenerationWeight>
    <canMakeRandomly>false</canMakeRandomly>
    <canSiege>false</canSiege>
    <canStageAttacks>true</canStageAttacks>
    <arrivalLayerWhitelist>
      <li>Surface</li>
      <li MayRequire="Ludeon.RimWorld.Odyssey">Orbit</li>
    </arrivalLayerWhitelist>
    <autoFlee>false</autoFlee>
    <leaderTitle>Queen</leaderTitle>
    <fixedName>Wraith Domain</fixedName>
    <settlementNameMaker>NamerSettlementTribal</settlementNameMaker>
    <techLevel>Ultra</techLevel>
    <xenotypeSet Inherit="False">
      <xenotypeChances>
        <Rimgate_Wraith>999</Rimgate_Wraith>
      </xenotypeChances>
    </xenotypeSet>
    <allowedCultures Inherit="False">
      <li>Rimgate_WraithCulture</li>
    </allowedCultures>
    <factionIconPath>UI/Map/RGWraithBaseIcon</factionIconPath>
    <settlementTexturePath>World/WorldObjects/DefaultSettlement</settlementTexturePath>
    <naturalEnemy>true</naturalEnemy>
    <raidCommonalityFromPointsCurve>
      <points>
        <li>(150, 0)</li>
        <li>(400, 0.6)</li>
        <li>(800, 1.2)</li>
        <li>(1600, 1.8)</li>
        <li>(3000, 2.4)</li>
        <li>(4500, 2.8)</li>
      </points>
    </raidCommonalityFromPointsCurve>
    <allowedArrivalTemperatureRange>-50~45</allowedArrivalTemperatureRange>
    <raidLootValueFromPointsCurve>
      <points>
        <li>(35, 15)</li>
        <li>(100, 120)</li>
        <li>(1000, 520)</li>
        <li>(2000, 850)</li>
        <li>(4000, 1125)</li>
      </points>
    </raidLootValueFromPointsCurve>
    <raidLootMaker>Rimgate_WraithRaidLootMaker</raidLootMaker>
    <maxPawnCostPerTotalPointsCurve>
      <points>
        <!-- keep early raids to Soldiers/occasional Commander -->
        <li>(0, 100)</li>
        <li>(400, 150)</li>     <!-- let Soldiers (90 cp) be common -->
        <li>(1200, 170)</li>   <!-- allow Commanders at ~1.2k pts -->
        <li>(2200, 200)</li>   <!-- Assassins mix in -->
        <li>(3500, 240)</li>   <!-- Queens viable late -->
        <li>(100000, 10000)</li>
      </points>
    </maxPawnCostPerTotalPointsCurve>
    <hostileToFactionlessHumanlikes>true</hostileToFactionlessHumanlikes>
    <visitorTraderKinds>
      <li>Rimgate_WraithTrader</li>
    </visitorTraderKinds>
    <caravanTraderKinds>
      <li>Rimgate_WraithTrader</li>
    </caravanTraderKinds>
    <baseTraderKinds>
      <li>Rimgate_WraithTrader</li>
    </baseTraderKinds>
    <backstoryFilters>
      <li>
        <categories>
          <li>Offworld</li>
        </categories>
      </li>
    </backstoryFilters>
    <fixedLeaderKinds>
      <li>Rimgate_WraithQueen</li>
    </fixedLeaderKinds>
    <permanentEnemyToEveryoneExcept>
      <li>Rimgate_GoauldPlayerColony</li>
      <li>Rimgate_TauriPlayerColony</li>
      <li>Rimgate_WraithPlayerColony</li>
      <li>PlayerTribe</li>
      <li>PlayerColony</li>
      <li MayRequire="Ludeon.RimWorld.Anomaly">ResearchExpedition</li>
      <li MayRequire="Ludeon.RimWorld.Odyssey">GravshipCrew</li>
    </permanentEnemyToEveryoneExcept>
    <pawnGroupMakers>
      <li>
        <kindDef>Combat</kindDef>
        <disallowedStrategies>
          <li>Siege</li> <!-- fits the Wraith vibe; they rush/board more than siege -->
        </disallowedStrategies>
        <options>
          <!-- Weighted by cost: Soldier (cheap) is backbone -->
          <Rimgate_WraithSoldier>60</Rimgate_WraithSoldier>     <!-- 90 cp -->
          <Rimgate_WraithCommander>25</Rimgate_WraithCommander> <!-- 135 cp -->
          <Rimgate_WraithAssassin>12</Rimgate_WraithAssassin>   <!-- 150 cp -->
          <Rimgate_TrackingDrone>10</Rimgate_TrackingDrone>
          <!-- Rare boss piece in normal raids; budget-gated by curve -->
          <Rimgate_WraithQueen>3</Rimgate_WraithQueen>          <!-- 220 cp -->
        </options>
        <maxTotalPoints>5000</maxTotalPoints>
      </li>
      <li>
        <kindDef>Combat</kindDef>
        <commonality>0.9</commonality>
        <options>
          <Rimgate_WraithSoldier>35</Rimgate_WraithSoldier>
          <Rimgate_WraithCommander>30</Rimgate_WraithCommander>
          <Rimgate_WraithAssassin>22</Rimgate_WraithAssassin>
          <Rimgate_WraithQueen>13</Rimgate_WraithQueen>
          <Rimgate_TrackingDrone>10</Rimgate_TrackingDrone>
        </options>
        <disallowedStrategies>
          <li>Siege</li> <!-- fits the Wraith vibe; they rush/board more than siege -->
        </disallowedStrategies>
      </li>
      <li>
        <kindDef>OrbitalCombat</kindDef>
        <options>
          <Rimgate_WraithOrbitSoldier>35</Rimgate_WraithOrbitSoldier>
          <Rimgate_WraithOrbitCommander>30</Rimgate_WraithOrbitCommander>
          <Rimgate_TrackingDrone>20</Rimgate_TrackingDrone>
        </options>
        <disallowedStrategies>
          <li>Siege</li>
        </disallowedStrategies>
      </li>
      <li>
        <kindDef>Trader</kindDef>
        <traders>
          <Rimgate_WraithTrader>1</Rimgate_WraithTrader>
        </traders>
        <carriers>
          <Muffalo>4</Muffalo>
          <Dromedary>3</Dromedary>
          <Alpaca>2</Alpaca>
          <Elephant>1</Elephant>
        </carriers>
        <guards>
          <Rimgate_WraithSoldier>6</Rimgate_WraithSoldier>
          <Rimgate_WraithCommander>1</Rimgate_WraithCommander>
        </guards>
      </li>
      <li>
        <kindDef>Settlement</kindDef>
        <options>
          <Rimgate_WraithColonist>10</Rimgate_WraithColonist>
          <Rimgate_WraithSoldier>18</Rimgate_WraithSoldier>
          <Rimgate_TrackingDrone>10</Rimgate_TrackingDrone>
          <Rimgate_WraithAssassin>7</Rimgate_WraithAssassin>
          <Rimgate_WraithCommander>8</Rimgate_WraithCommander>
          <Rimgate_WraithQueen>4</Rimgate_WraithQueen>
        </options>
      </li>
    </pawnGroupMakers>
  </FactionDef>

  <ThingSetMakerDef>
    <defName>Rimgate_WraithRaidLootMaker</defName>
    <root Class="ThingSetMaker_MarketValue">
      <fixedParams>
        <filter>
          <thingDefs>
            <li>Silver</li>
            <li>Jade</li>
            <li>Rimgate_Biomass</li>
            <li>Rimgate_CocoonedMeat</li>
          </thingDefs>
        </filter>
      </fixedParams>
    </root>
  </ThingSetMakerDef>

</Defs>