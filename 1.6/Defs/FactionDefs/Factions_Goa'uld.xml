<?xml version="1.0" encoding="utf-8"?>
<Defs>

  <!-- ============================ Goa'uld Faction Base ========================== -->

  <FactionDef Name="Rimgate_GoauldFactionBase" ParentName="FactionBase" Abstract="True">
    <pawnsPlural>Goa'uld</pawnsPlural>
    <categoryTag>Rimgate_GoauldFaction</categoryTag>
    <settlementGenerationWeight>0.25</settlementGenerationWeight>
    <canSiege>false</canSiege>
    <canStageAttacks>true</canStageAttacks>
    <arrivalLayerWhitelist>
      <li>Surface</li>
      <li MayRequire="Ludeon.RimWorld.Odyssey">Orbit</li>
    </arrivalLayerWhitelist>
    <autoFlee>false</autoFlee>
    <leaderTitle>Under Lord</leaderTitle>
    <settlementTexturePath>World/WorldObjects/DefaultSettlement</settlementTexturePath>
    <techLevel>Ultra</techLevel>
    <requiredCountAtGameStart>1</requiredCountAtGameStart>
    <maxConfigurableAtWorldCreation>1</maxConfigurableAtWorldCreation>
    <earliestRaidDays>45</earliestRaidDays>
    <naturalEnemy>true</naturalEnemy>
    <hostileToFactionlessHumanlikes>true</hostileToFactionlessHumanlikes>
    <settlementNameMaker>NamerSettlementTribal</settlementNameMaker>
    <allowedArrivalTemperatureRange>-50~45</allowedArrivalTemperatureRange>
    <raidCommonalityFromPointsCurve>
      <points>
        <li>(300, 0.25)</li>
        <li>(600, 0.8)</li>
        <li>(1200, 1.4)</li>
        <li>(2200, 2.0)</li>
        <li>(4000, 2.4)</li>
      </points>
    </raidCommonalityFromPointsCurve>
    <raidLootValueFromPointsCurve>
      <points>
        <li>(35, 15)</li>
        <li>(200, 160)</li>
        <li>(1000, 520)</li>
        <li>(2000, 820)</li>
        <li>(4000, 1100)</li>
      </points>
    </raidLootValueFromPointsCurve>
    <raidLootMaker>Rimgate_GoauldRaidLootMaker</raidLootMaker>
    <maxPawnCostPerTotalPointsCurve>
      <points>
        <!-- keep early raids to line troops -->
        <li>(0, 100)</li>
        <li>(300, 100)</li>
        <li>(700, 130)</li>
        <li>(1200, 150)</li>
        <li>(2000, 220)</li>
        <li>(3500, 270)</li>
        <li>(100000, 10000)</li>
      </points>
    </maxPawnCostPerTotalPointsCurve>
    <allowedCultures Inherit="false">
      <li>Rimgate_Jaffari</li>
    </allowedCultures>
    <backstoryFilters>
      <li>
        <categories>
          <li>Offworld</li>
        </categories>
      </li>
    </backstoryFilters>
    <fixedLeaderKinds>
      <li>Rimgate_GoauldLeader</li>
    </fixedLeaderKinds>
  </FactionDef>

  <!-- ============================ Goa'uld Factions ========================== -->

  <FactionDef ParentName="Rimgate_GoauldFactionBase">
    <defName>Rimgate_GoauldBaal</defName>
    <label>Supreme System Lord Ba'aal</label>
    <description>Once a mid-tier underlord with a flair for drama, Ba’al clawed his way to the top via cloning, cunning, and copious ego.\nAllegedly destroyed, but Goa’uld never truly die—they franchise.\nNow he hunts this RimWorld’s “dwarf-gates”: smaller Stargates bound to an Archotech-locked lattice. If he finds the master key, nobody leaves without his permission.</description>
    <fixedName>Supreme System Lord Ba'aal</fixedName>
    <factionIconPath>UI/Map/RGBaalBaseIcon</factionIconPath>

    <fixedIdeo>true</fixedIdeo>
    <ideoName>Symbiotic Dominion</ideoName>
    <ideoDescription>Symbiotic Dominion teaches that only those bearing Goa'uld symbiotes manifest divinity, making every host a living icon and every uninfected being a tool.\nIts doctrine fuses ritualistic worship, biotechnology, and theatrical punishment to keep subjects loyal while elevating Ba'al's ego above all rivals.\nOutsiders are valued purely as prospective hosts, experimental fodder, or trophies to remind the galaxy who controls the gates.</ideoDescription>
    <!-- <hiddenIdeo>true</hiddenIdeo> -->
    <deityPresets>
      <li>
        <nameType>
          <name>Ba'aal</name>
          <type>Supreme System Lord</type>
        </nameType>
        <gender>Male</gender>
        <iconPath>UI/Deities/DeityGeneric</iconPath>
      </li>
    </deityPresets>
    <styles>
      <li MayRequire="Ludeon.RimWorld.Ideology">Spikecore</li>
      <li MayRequire="Ludeon.RimWorld.Ideology">Techist</li>
    </styles>
    <forcedMemes>
      <li MayRequire="Ludeon.RimWorld.Ideology">Structure_TheistEmbodied</li>
      <li>Rimgate_SymbioticDominion</li>
      <li MayRequire="Ludeon.RimWorld.Ideology">Supremacist</li>
      <li MayRequire="Ludeon.RimWorld.Ideology">Raider</li>
    </forcedMemes>
    <requiredPreceptsOnly>true</requiredPreceptsOnly>

    <permanentEnemyToEveryoneExcept>
      <li>Rimgate_GoauldPlayerColony</li>
      <li>Rimgate_TauriPlayerColony</li>
      <li>Rimgate_WraithPlayerColony</li>
      <li>PlayerTribe</li>
      <li>PlayerColony</li>
      <li MayRequire="Ludeon.RimWorld.Anomaly">ResearchExpedition</li>
      <li MayRequire="Ludeon.RimWorld.Odyssey">GravshipCrew</li>
    </permanentEnemyToEveryoneExcept>
    <visitorTraderKinds>
      <li>Rimgate_GoauldTrader</li>
    </visitorTraderKinds>
    <caravanTraderKinds>
      <li>Rimgate_GoauldTrader</li>
    </caravanTraderKinds>
    <baseTraderKinds>
      <li>Rimgate_GoauldTrader</li>
    </baseTraderKinds>
    <pawnGroupMakers>
      <!-- Mixed line squads -->
      <li>
        <kindDef>Combat</kindDef>
        <commonality>100</commonality>
        <disallowedStrategies>
          <li>Siege</li>
        </disallowedStrategies>
        <options>
          <!-- Line troops dominate -->
          <Rimgate_GoauldRangedAnubis>18</Rimgate_GoauldRangedAnubis>
          <Rimgate_GoauldRangedApophis>18</Rimgate_GoauldRangedApophis>
          <Rimgate_GoauldRangedRa>18</Rimgate_GoauldRangedRa>

          <!-- Guards are rare in field raids -->
          <Rimgate_SerpentGuard>10</Rimgate_SerpentGuard>
          <Rimgate_JackalGuard>10</Rimgate_JackalGuard>
          <Rimgate_HorusGuard>10</Rimgate_HorusGuard>

          <!-- Elites: extremely rare sprinkles -->
          <Rimgate_PrimeJackalGuard>0.6</Rimgate_PrimeJackalGuard>
          <Rimgate_PrimeSerpentGuard>0.6</Rimgate_PrimeSerpentGuard>
          <Rimgate_PrimeHorusGuard>0.6</Rimgate_PrimeHorusGuard>
          <Rimgate_KullWarrior>0.8</Rimgate_KullWarrior>
          <Rimgate_GoauldLeader>0.15</Rimgate_GoauldLeader>
        </options>
      </li>
      <li>
        <!-- Ranged-biased squads -->
        <kindDef>Combat</kindDef>
        <commonality>80</commonality>
        <disallowedStrategies>
          <li>Siege</li>
        </disallowedStrategies>
        <options>
          <!-- Ranged push harder; melee lighter -->
          <Rimgate_GoauldRangedAnubis>22</Rimgate_GoauldRangedAnubis>
          <Rimgate_GoauldRangedApophis>22</Rimgate_GoauldRangedApophis>
          <Rimgate_GoauldRangedRa>22</Rimgate_GoauldRangedRa>

          <Rimgate_SerpentGuard>14</Rimgate_SerpentGuard>
          <Rimgate_JackalGuard>14</Rimgate_JackalGuard>
          <Rimgate_HorusGuard>14</Rimgate_HorusGuard>

          <Rimgate_PrimeJackalGuard>0.7</Rimgate_PrimeJackalGuard>
          <Rimgate_PrimeSerpentGuard>0.7</Rimgate_PrimeSerpentGuard>
          <Rimgate_PrimeHorusGuard>0.7</Rimgate_PrimeHorusGuard>
          <Rimgate_KullWarrior>0.5</Rimgate_KullWarrior>
          <Rimgate_GoauldLeader>0.1</Rimgate_GoauldLeader>
        </options>
      </li>
      <li>
        <!-- Guard squads -->
        <kindDef>OrbitalCombat</kindDef>
        <commonality>70</commonality>
        <disallowedStrategies>
          <li>Siege</li>
        </disallowedStrategies>
        <options>
          <!-- Guards take the lead -->
          <Rimgate_SerpentGuard>14</Rimgate_SerpentGuard>
          <Rimgate_JackalGuard>14</Rimgate_JackalGuard>
          <Rimgate_HorusGuard>14</Rimgate_HorusGuard>

          <Rimgate_PrimeJackalGuard>0.7</Rimgate_PrimeJackalGuard>
          <Rimgate_PrimeSerpentGuard>0.7</Rimgate_PrimeSerpentGuard>
          <Rimgate_PrimeHorusGuard>0.7</Rimgate_PrimeHorusGuard>

          <Rimgate_KullWarrior>0.7</Rimgate_KullWarrior>
        </options>
      </li>
      <li>
        <!-- Kull strike -->
        <kindDef>Combat</kindDef>
        <commonality>5</commonality>
        <disallowedStrategies>
          <li>Siege</li>
        </disallowedStrategies>
        <options>
          <Rimgate_KullWarrior>10</Rimgate_KullWarrior>
        </options>
      </li>
      <li>
        <kindDef>Trader</kindDef>
        <traders>
          <Rimgate_GoauldTrader>1</Rimgate_GoauldTrader>
        </traders>
        <carriers>
          <Muffalo>4</Muffalo>
          <Dromedary>3</Dromedary>
          <Alpaca>2</Alpaca>
          <Elephant>1</Elephant>
        </carriers>
        <guards>
          <Rimgate_SerpentGuard>3</Rimgate_SerpentGuard>
          <Rimgate_JackalGuard>3</Rimgate_JackalGuard>
          <Rimgate_HorusGuard>3</Rimgate_HorusGuard>
        </guards>
      </li>
      <li>
        <kindDef>Settlement</kindDef>
        <options>
          <Rimgate_GoauldColonist>15</Rimgate_GoauldColonist>
          <Rimgate_GoauldSlave>10</Rimgate_GoauldSlave>
          <Rimgate_GoauldRangedAnubis>10</Rimgate_GoauldRangedAnubis>
          <Rimgate_GoauldRangedApophis>10</Rimgate_GoauldRangedApophis>
          <Rimgate_GoauldRangedRa>10</Rimgate_GoauldRangedRa>
          <Rimgate_SerpentGuard>15</Rimgate_SerpentGuard>
          <Rimgate_JackalGuard>15</Rimgate_JackalGuard>
          <Rimgate_HorusGuard>15</Rimgate_HorusGuard>
          <Rimgate_KullWarrior>5</Rimgate_KullWarrior>
          <Rimgate_PrimeJackalGuard>5</Rimgate_PrimeJackalGuard>
          <Rimgate_PrimeSerpentGuard>5</Rimgate_PrimeSerpentGuard>
          <Rimgate_PrimeHorusGuard>5</Rimgate_PrimeHorusGuard>
          <Rimgate_GoauldLeader>0.1</Rimgate_GoauldLeader>
        </options>
      </li>
    </pawnGroupMakers>
  </FactionDef>

  <ThingSetMakerDef>
    <defName>Rimgate_GoauldRaidLootMaker</defName>
    <root Class="ThingSetMaker_MarketValue">
      <fixedParams>
        <filter>
          <thingDefs>
            <li>Gold</li>
            <li>MedicineUltratech</li>
            <li>Rimgate_Naquadah</li>
            <li>MealSurvivalPack</li>
            <li>Silver</li>
          </thingDefs>
        </filter>
      </fixedParams>
    </root>
  </ThingSetMakerDef>

</Defs>