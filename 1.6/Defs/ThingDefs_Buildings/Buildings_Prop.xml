<?xml version="1.0" encoding="UTF-8"?>
<Defs>

    <!-- Tau'ri Desks -->

    <ThingDef ParentName="BuildingBase">
        <defName>Rimgate_TauriResearchDesk</defName>
        <label>Research desk</label>
        <description>A sturdy Tau’ri research station outfitted with a humming computer terminal. Once used to crunch alien data and autopsy reports, now it mostly just hums ominously. Whoever sat here probably knew too much—or not enough.</description>
        <graphicData>
            <texPath>Things/Building/Prop/RGTauriDesk</texPath>
            <graphicClass>Graphic_Multi</graphicClass>
            <shaderType>CutoutComplex</shaderType>
            <drawSize>(4,3.5)</drawSize>
        </graphicData>
        <size>(3,1)</size>
        <statBases>
            <MaxHitPoints>100</MaxHitPoints>
            <Flammability>0.2</Flammability>
            <Mass>17.5</Mass>
        </statBases>
        <fillPercent>0.4</fillPercent>
        <castEdgeShadows>True</castEdgeShadows>
        <staticSunShadowHeight>0.2</staticSunShadowHeight>
        <surfaceType>Item</surfaceType>
        <building>
            <claimable>false</claimable>
            <isInert>true</isInert>
            <neverBuildable>true</neverBuildable>
            <alwaysDeconstructible>true</alwaysDeconstructible>
            <canLandGravshipOn>true</canLandGravshipOn>
        </building>
        <noRightClickDraftAttack>true</noRightClickDraftAttack>
        <passability>Impassable</passability>
        <canOverlapZones>false</canOverlapZones>
        <altitudeLayer>Building</altitudeLayer>
    </ThingDef>

    <ThingDef ParentName="BuildingBase">
        <defName>Rimgate_TauriDraftingDesk</defName>
        <label>Blueprint Table</label>
        <description>A Tau’ri drafting table covered in glowing blueprints and half-finished schematics. Once used to map out offworld bases, Naquadah reactors, and questionable field gear. Powered lights still flicker across the glass surface, as if waiting for the next great mistake to be designed here.</description>
        <graphicData>
            <texPath>Things/Building/Prop/RGTauriDraftingDesk</texPath>
            <graphicClass>Graphic_Multi</graphicClass>
            <shaderType>CutoutComplex</shaderType>
            <drawSize>(2,2)</drawSize>
        </graphicData>
        <size>(1,1)</size>
        <statBases>
            <MaxHitPoints>100</MaxHitPoints>
            <Flammability>0.2</Flammability>
            <Mass>13.95</Mass>
        </statBases>
        <building>
            <claimable>false</claimable>
            <isInert>true</isInert>
            <neverBuildable>true</neverBuildable>
            <alwaysDeconstructible>true</alwaysDeconstructible>
            <canLandGravshipOn>true</canLandGravshipOn>
        </building>
        <fillPercent>0.4</fillPercent>
        <castEdgeShadows>True</castEdgeShadows>
        <staticSunShadowHeight>0.2</staticSunShadowHeight>
        <noRightClickDraftAttack>true</noRightClickDraftAttack>
        <passability>Impassable</passability>
        <canOverlapZones>false</canOverlapZones>
        <altitudeLayer>Building</altitudeLayer>
        <comps>
            <li Class="CompProperties_Power">
                <compClass>CompPowerTrader</compClass>
                <basePowerConsumption>5</basePowerConsumption>
            </li>
            <li Class="CompProperties_Glower">
                <glowRadius>2</glowRadius>
                <glowColor>(200,230,230,0)</glowColor>
            </li>
        </comps>
    </ThingDef>

    <!-- Destroyed Desk -->

    <ThingDef ParentName="BuildingBase">
        <defName>Rimgate_DestroyedDesk</defName>
        <label>Ancient desk</label>
        <description>Once used to crunch data, it is now completely inoperable. Its usable parts were smashed or looted long ago.</description>
        <graphicData>
            <texPath>Things/Building/Prop/RGDestroyedDesk</texPath>
            <graphicClass>Graphic_Multi</graphicClass>
            <shaderType>CutoutComplex</shaderType>
            <drawSize>(4,3.5)</drawSize>
        </graphicData>
        <size>(3,1)</size>
        <statBases>
            <MaxHitPoints>100</MaxHitPoints>
            <Flammability>0.2</Flammability>
            <Mass>17.5</Mass>
        </statBases>
        <fillPercent>0.4</fillPercent>
        <castEdgeShadows>True</castEdgeShadows>
        <staticSunShadowHeight>0.2</staticSunShadowHeight>
        <surfaceType>Item</surfaceType>
        <building>
            <claimable>false</claimable>
            <isInert>true</isInert>
            <neverBuildable>true</neverBuildable>
            <alwaysDeconstructible>true</alwaysDeconstructible>
            <canLandGravshipOn>true</canLandGravshipOn>
        </building>
        <noRightClickDraftAttack>true</noRightClickDraftAttack>
        <passability>Impassable</passability>
        <canOverlapZones>false</canOverlapZones>
        <altitudeLayer>Building</altitudeLayer>
    </ThingDef>

    <!-- Wraith Table -->

    <ThingDef ParentName="BuildingBase">
        <defName>Rimgate_WraithTable</defName>
        <label>Wraith table</label>
        <description>A biomass-grown slab shaped into a ritual table, its surface pulsing with faint organic patterns and a central seal-like disc. To outsiders it resembles a primitive calendar or altar, but the Wraith use it as both a star chart and a focus for their hive rituals. When touched, the surface quivers faintly, as though alive, whispering in a tongue only the hive truly understands.</description>
        <graphicData>
            <texPath>Things/Building/Prop/RGWraithTable</texPath>
            <graphicClass>Graphic_Multi</graphicClass>
            <shaderType>CutoutComplex</shaderType>
            <drawSize>(2,2)</drawSize>
        </graphicData>
        <size>(1,1)</size>
        <statBases>
            <MaxHitPoints>100</MaxHitPoints>
            <WorkToBuild>4000</WorkToBuild>
            <Flammability>1</Flammability>
            <Beauty>15</Beauty>
            <MarketValue>850</MarketValue>
            <Mass>28.5</Mass>
            <MeditationFocusStrength>0.22</MeditationFocusStrength>
        </statBases>
        <building>
            <claimable>true</claimable>
            <isInert>true</isInert>
            <neverBuildable>true</neverBuildable>
            <alwaysDeconstructible>true</alwaysDeconstructible>
            <canLandGravshipOn>true</canLandGravshipOn>
            <ai_chillDestination>false</ai_chillDestination>
        </building>
        <hasInteractionCell>True</hasInteractionCell>
        <interactionCellOffset>(0,0,-1)</interactionCellOffset>
        <fillPercent>0.4</fillPercent>
        <castEdgeShadows>True</castEdgeShadows>
        <staticSunShadowHeight>0.2</staticSunShadowHeight>
        <noRightClickDraftAttack>true</noRightClickDraftAttack>
        <passability>Impassable</passability>
        <canOverlapZones>false</canOverlapZones>
        <altitudeLayer>Building</altitudeLayer>
        <comps>
            <li Class="CompProperties_AssignableToPawn">
                <drawUnownedAssignmentOverlay>false</drawUnownedAssignmentOverlay>
                <compClass>CompAssignableToPawn_MeditationSpot</compClass>
            </li>
            <li Class="CompProperties_MeditationFocus">
                <statDef>MeditationFocusStrength</statDef>
                <focusTypes>
                    <li>Void</li>
                    <li>Morbid</li>
                </focusTypes>
            </li>
        </comps>
    </ThingDef>

    <!-- =============== DHD =============== -->

    <ThingDef ParentName="BuildingBase">
        <defName>Rimgate_DialHomeDeviceDestroyed</defName>
        <label>ruined dial home device</label>
        <description>A shattered relic of alien engineering once used to command a Stargate. Its crystals are burnt out, its control ring frozen in place—no dialing, no escape, just a reminder of what was lost. Scavengers might still pry a trace of naquadah from its husk, but it will never open a wormhole again.</description>
        <rotatable>false</rotatable>
        <stealable>false</stealable>
        <passability>Impassable</passability>
        <constructEffect>ConstructMetal</constructEffect>
        <fillPercent>0.40</fillPercent>
        <canOverlapZones>true</canOverlapZones>
        <leaveResourcesWhenKilled>true</leaveResourcesWhenKilled>
        <terrainAffordanceNeeded>Heavy</terrainAffordanceNeeded>
        <tickerType>Never</tickerType>
        <building>
            <repairable>false</repairable>
            <claimable>false</claimable>
            <ai_neverTrashThis>true</ai_neverTrashThis>
            <neverBuildable>true</neverBuildable>
        </building>
        <graphicData>
            <texPath>Things/Building/Prop/RGDHD_Destroyed</texPath>
            <graphicClass>Graphic_Single</graphicClass>
            <drawSize>(2,2)</drawSize>
        </graphicData>
        <killedLeavings>
            <Rimgate_Naquadah>1</Rimgate_Naquadah>
        </killedLeavings>
        <killedLeavingsChance>0.1</killedLeavingsChance>
        <statBases>
            <MaxHitPoints>2500</MaxHitPoints>
            <Flammability>0</Flammability>
            <Mass>45</Mass>
        </statBases>
        <size>(1,1)</size>
        <terrainAffordanceNeeded>Heavy</terrainAffordanceNeeded>
    </ThingDef>

    <!-- =============== Force Field Door =============== -->

    <ThingDef ParentName="DoorBase">
        <defName>Rimgate_ForceFieldDoor</defName>
        <label>force field</label>
        <description>A humming energy barrier. Red when locked, blue when hacked and safe to pass.</description>
        <thingClass>Rimgate.Building_HackableForceField</thingClass>
        <destroyable>false</destroyable>
        <designationCategory IsNull="True" />
        <rotatable>true</rotatable>
        <graphicData>
            <texPath>Things/Building/Prop/RGForceField_BarrierBlue</texPath>
            <graphicClass>Graphic_Multi</graphicClass>
            <shaderType>TransparentPostLight</shaderType>
            <drawSize>(1.6,1.6)</drawSize>
            <damageData>
                <enabled>false</enabled>
            </damageData>
        </graphicData>
        <useHitPoints>false</useHitPoints>
        <statBases>
            <Flammability>0</Flammability>
        </statBases>
        <building>
            <paintable>false</paintable>
            <deconstructible>false</deconstructible>
            <claimable>false</claimable>
            <neverBuildable>true</neverBuildable>
            <isAirtight>true</isAirtight>
            <isSupportDoor>true</isSupportDoor>
            <doorTopGraphic>
                <texPath>Things/Building/Prop/RGBForceFieldDoor_Top</texPath>
                <graphicClass>Graphic_Multi</graphicClass>
                <drawSize>(1.6,1.6)</drawSize>
            </doorTopGraphic>
            <doorTopHorizontalOffset>(0,0,-0.025)</doorTopHorizontalOffset>
            <expandHomeArea>false</expandHomeArea>
        </building>

        <stuffCategories Inherit="False" />
        <useStuffTerrainAffordance>false</useStuffTerrainAffordance>

        <comps>
            <li Class="CompProperties_Hackable">
                <defence>2400</defence>
                <effectHacking>HackingTerminal</effectHacking>
                <lockoutDurationHoursRange>2~3</lockoutDurationHoursRange>
                <notHackedInspectString>Barrier is locked. Hack to disperse.</notHackedInspectString>
                <hackedInspectString>Barrier dispersed. Safe to pass.</hackedInspectString>
                <hackedMessage>{HACKER_labelShort} disabled the defensive force field.</hackedMessage>
                <showProgressAfterHackCompletion>false</showProgressAfterHackCompletion>

                <unhackedGraphicData>
                    <texPath>Things/Building/Prop/RGForceField_BarrierRed</texPath>
                    <graphicClass>Graphic_Multi</graphicClass>
                    <shaderType>TransparentPostLight</shaderType>
                    <drawSize>(1.6,1.6)</drawSize>
                </unhackedGraphicData>
                <!-- <unhackedGraphicOffset>(0,0.1,0)</unhackedGraphicOffset> -->
                <graphicDrawerType>RealtimeOnly</graphicDrawerType>
            </li>
        </comps>
    </ThingDef>

    <!-- ================ Jammed Doors =================== -->

    <!-- ===== Jammed door: abstract base you can inherit for any “pry-to-open” door ===== -->
    <ThingDef Name="Rimgate_JammedDoorBase" ParentName="Door" Abstract="True">
        <defName>Rimgate_JammedDoorBase</defName>
        <label>jammed door (base)</label>
        <description>An inoperable, sealed door that must be forced open. Indestructible and airtight until someone spends time prying it loose.</description>

        <!-- Indestructible / not buildable / airtight -->
        <destroyable>false</destroyable>
        <useHitPoints>false</useHitPoints>
        <designationCategory IsNull="True" />
        <thingClass>Building_JammedDoor</thingClass>
        <useStuffTerrainAffordance>false</useStuffTerrainAffordance>

        <statBases>
            <Flammability>0</Flammability>
        </statBases>

        <building>
            <!-- <paintable>false</paintable> -->
            <deconstructible>false</deconstructible>
            <claimable>false</claimable>
            <neverBuildable>true</neverBuildable>
            <isAirtight>true</isAirtight>
            <canPlaceOverWall>true</canPlaceOverWall>
        </building>

    </ThingDef>

    <ThingDef ParentName="Rimgate_JammedDoorBase">
        <defName>Rimgate_JammedBlastDoor</defName>
        <label>jammed blast door</label>
        <description>A heavy blast door, bent and jammed beyond normal operation. Once meant to seal corridors from enemy incursion—or something worse—it now hums with locked hydraulics. Forcing it open may reveal why it was sealed.</description>

        <stuffCategories Inherit="False">
            <li>Metallic</li>
        </stuffCategories>
        <costStuffCount>25</costStuffCount>

        <!-- “Mover” shell -->
        <graphicData>
            <texPath>Things/Building/Structure/RGBlastDoor_Mover</texPath>
            <graphicClass>Graphic_Single</graphicClass>
        </graphicData>

        <comps Inherit="False">
            <li Class="CompProperties_LabyrinthDoor">
                <!-- Jammed fill (non-tinted) -->
                <jammed>
                    <texPath>Things/Building/Structure/RGBlastDoor_Jammed</texPath>
                    <graphicClass>Graphic_Single</graphicClass>
                </jammed>

                <!-- Interaction / command UI -->
                <activeTicks>1</activeTicks>
                <!-- Slight chance it spawns already open -->
                <unlockedChance>0.15</unlockedChance>
                <ticksToActivate>3600</ticksToActivate> <!-- 1 in-game hour -->

                <activateTexPath>UI/Commands/ForceOpenDoor</activateTexPath>
                <activateLabelString>Force open...</activateLabelString>
                <activateDescString>Choose someone to force this door open.</activateDescString>
                <guiLabelString>Choose who should do this</guiLabelString>
                <jobString>Force this door open</jobString>
                <activatingStringPending>forcing door open</activatingStringPending>
                <activatingString>forcing door open: {1}s</activatingString>
                <messageCompletedString>{PAWN_nameDef} has successfully forced the door open.</messageCompletedString>

                <!-- Only pick colonists -->
                <targetingParameters>
                    <canTargetBuildings>false</canTargetBuildings>
                    <canTargetAnimals>false</canTargetAnimals>
                    <canTargetMechs>false</canTargetMechs>
                    <onlyTargetControlledPawns>true</onlyTargetControlledPawns>
                </targetingParameters>
            </li>
        </comps>
    </ThingDef>

    <ThingDef ParentName="Rimgate_JammedDoorBase">
        <defName>Rimgate_SecretDoor</defName>
        <label>secret door</label>
        <description>A disguised, jammed panel cut to mimic the surrounding wall. Looks like solid rock until someone starts prying. Indestructible and airtight until forced open.</description>

        <!-- Allow stone tinting -->
        <stuffCategories Inherit="False">
            <li>Stony</li>
        </stuffCategories>
        <costStuffCount>25</costStuffCount>

        <!-- Outer “mover” shell -->
        <graphicData>
            <texPath>Things/Building/Structure/RGSecretDoorRock_Mover</texPath>
            <graphicClass>Graphic_Single</graphicClass>
        </graphicData>

        <comps Inherit="False">
            <li Class="CompProperties_LabyrinthDoor">
                <!-- Jammed fill (also tinted by stuff) -->
                <jammed>
                    <texPath>Things/Building/Structure/RGSecretDoorRock_Jammed</texPath>
                    <graphicClass>Graphic_Single</graphicClass>
                </jammed>

                <!-- Interaction / command UI -->
                <activeTicks>1</activeTicks>
                <!-- Tighter: most are locked -->
                <unlockedChance>0.05</unlockedChance>
                <ticksToActivate>4800</ticksToActivate> <!-- a bit longer to pry a hidden slab -->

                <activateTexPath>UI/Commands/ForceOpenDoor</activateTexPath>
                <activateLabelString>Force open...</activateLabelString>
                <activateDescString>Choose someone to pry the panel loose.</activateDescString>
                <guiLabelString>Choose who should do this</guiLabelString>
                <jobString>Pry the hidden panel</jobString>
                <activatingStringPending>prying</activatingStringPending>
                <activatingString>prying: {1}s</activatingString>
                <messageCompletedString>{PAWN_nameDef} has revealed a hidden passage.</messageCompletedString>

                <!-- Only pick colonists -->
                <targetingParameters>
                    <canTargetBuildings>false</canTargetBuildings>
                    <canTargetAnimals>false</canTargetAnimals>
                    <canTargetMechs>false</canTargetMechs>
                    <onlyTargetControlledPawns>true</onlyTargetControlledPawns>
                </targetingParameters>
            </li>
        </comps>
    </ThingDef>

    <!-- Mech Gestator Tank -->

    <ThingDef Name="Rimgate_AncientGestatorBase" ParentName="AncientMechBuildingBase" Abstract="True">
        <defName>Rimgate_AncientGestatorBase</defName>
        <label>ancient mech vat (base)</label>
        <description>An ancient device capable of forming new mechanoids, or sustaining injured units while they rejuvenate.</description>
        <rotatable>true</rotatable>
        <statBases>
            <MaxHitPoints>150</MaxHitPoints>
        </statBases>
        <building>
            <claimable>false</claimable>
            <deconstructible>false</deconstructible>
            <neverBuildable>true</neverBuildable>
        </building>
        <killedLeavings>
            <ChunkMechanoidSlag>1</ChunkMechanoidSlag>
        </killedLeavings>
    </ThingDef>

    <ThingDef ParentName="Rimgate_AncientGestatorBase">
        <defName>Rimgate_AncientMechGestatorTank</defName>
        <label>ancient mech vat</label>
        <graphicData>
            <texPath>Things/Building/Mech/AncientMechGestatorIntact_Empty/AncientMechGestatorIntact_Empty</texPath>
            <graphicClass>Graphic_Multi</graphicClass>
            <drawSize>(4,4)</drawSize>
            <shadowData>
                <volume>(1.8, 2, 1.8)</volume>
            </shadowData>
            <addTopAltitudeBias>true</addTopAltitudeBias>
        </graphicData>
        <size>(2,2)</size>
        <tickerType>Normal</tickerType>
        <dontPrint>true</dontPrint> <!-- Printed onto map mesh by comp -->
        <comps>
            <li Class="CompProperties_MechGestatorTank">
                <triggeredMessage>A {0_labelShort} has emerged from a mech vat.</triggeredMessage>
                <triggerRadiusRange>5~10</triggerRadiusRange>
                <triggerSound>GestatorGlassShattered</triggerSound>

                <mechKindOptions>
                    <Mech_Scyther />
                    <Mech_Lancer />
                    <Mech_Cyclops MayRequire="Ludeon.RimWorld.Odyssey" />
                    <Mech_Scorcher MayRequire="Ludeon.RimWorld.Biotech" />
                    <Mech_Tesseron MayRequire="Ludeon.RimWorld.Biotech" />
                </mechKindOptions>

                <dormantGraphic>
                    <texPath>Things/Building/Mech/AncientMechGestatorIntact_Full/AncientMechGestatorIntact_Full</texPath>
                    <graphicClass>Graphic_Multi</graphicClass>
                    <drawSize>(4,4)</drawSize>
                    <shadowData>
                        <volume>(1.8, 2, 1.8)</volume>
                    </shadowData>
                    <addTopAltitudeBias>true</addTopAltitudeBias>
                </dormantGraphic>

                <emptyGraphic>
                    <texPath>Things/Building/Mech/AncientMechGestatorIntact_Empty/AncientMechGestatorIntact_Empty</texPath>
                    <graphicClass>Graphic_Multi</graphicClass>
                    <drawSize>(4,4)</drawSize>
                    <shadowData>
                        <volume>(1.8, 2, 1.8)</volume>
                    </shadowData>
                    <addTopAltitudeBias>true</addTopAltitudeBias>
                </emptyGraphic>
            </li>

            <!-- Auto-set initial tank state on spawn -->
            <li Class="Rimgate.CompProperties_SetInitialGestatorState">
                <initialState>Proximity</initialState>
                <chance>0.9</chance>
                <requirePowerOn>false</requirePowerOn>
            </li>

            <li Class="CompProperties_Glower">
                <glowRadius>4</glowRadius>
                <glowColor>(255,150,100,0)</glowColor>
            </li>
        </comps>
    </ThingDef>

    <ThingDef ParentName="Rimgate_AncientGestatorBase">
        <defName>Rimgate_AncientReplicatorVat_Small</defName>
        <label>ancient replicator vat</label>
        <description>An ancient compact gestation tank retrofitted for self-assembling Replicator units. Smaller footprint, same unpleasant surprise.</description>

        <!-- Half the footprint/visuals of the full vat -->
        <graphicData>
            <texPath>Things/Building/Mech/AncientMechGestatorIntact_Empty/AncientMechGestatorIntact_Empty</texPath>
            <graphicClass>Graphic_Multi</graphicClass>
            <drawSize>(2,2)</drawSize>
            <shadowData>
                <volume>(0.9, 1.0, 0.9)</volume>
            </shadowData>
            <addTopAltitudeBias>true</addTopAltitudeBias>
        </graphicData>
        <size>(1,1)</size>
        <tickerType>Normal</tickerType>
        <dontPrint>true</dontPrint> <!-- Printed onto map mesh by comp -->
        <comps>
            <li Class="CompProperties_MechGestatorTank">
                <triggeredMessage>A {0_labelShort} has swarmed out of a replicator vat.</triggeredMessage>
                <triggerRadiusRange>4~8</triggerRadiusRange>
                <triggerSound>GestatorGlassShattered</triggerSound>

                <!-- Restrict to your replicator mech kinds -->
                <mechKindOptions>
                    <Rimgate_Replicator />
                    <Rimgate_ReplicatorPlasteel />
                    <Rimgate_ReplicatorUranium />
                    <Rimgate_ReplicatorNaquadah />
                </mechKindOptions>

                <dormantGraphic>
                    <texPath>Things/Building/Mech/AncientMechGestatorIntact_Full/AncientMechGestatorIntact_Full</texPath>
                    <graphicClass>Graphic_Multi</graphicClass>
                    <drawSize>(2,2)</drawSize>
                    <shadowData>
                        <volume>(0.9, 1.0, 0.9)</volume>
                    </shadowData>
                    <addTopAltitudeBias>true</addTopAltitudeBias>
                </dormantGraphic>

                <emptyGraphic>
                    <texPath>Things/Building/Mech/AncientMechGestatorIntact_Empty/AncientMechGestatorIntact_Empty</texPath>
                    <graphicClass>Graphic_Multi</graphicClass>
                    <drawSize>(2,2)</drawSize>
                    <shadowData>
                        <volume>(0.9, 1.0, 0.9)</volume>
                    </shadowData>
                    <addTopAltitudeBias>true</addTopAltitudeBias>
                </emptyGraphic>
            </li>

            <!-- Keep the same auto-state setup; tweak if you want some to be empty sometimes -->
            <li Class="Rimgate.CompProperties_SetInitialGestatorState">
                <initialState>Proximity</initialState>
                <chance>0.9</chance>
                <requirePowerOn>false</requirePowerOn>
            </li>

            <li Class="CompProperties_Glower">
                <glowRadius>3</glowRadius>
                <glowColor>(200,255,255,0)</glowColor>
            </li>
        </comps>
    </ThingDef>

    <ThingDef ParentName="Rimgate_AncientGestatorBase">
        <defName>Rimgate_AncientReplicatorVat_EmptySmall</defName>
        <label>ancient replicator vat</label>
        <description>An ancient compact gestation tank retrofitted for self-assembling Replicator units. Valuable parts are missing, and everything else is degraded to uselessness.</description>

        <!-- Half the footprint/visuals of the full vat -->
        <graphicData>
            <texPath>Things/Building/Mech/AncientMechGestatorIntact_Empty/AncientMechGestatorIntact_Empty</texPath>
            <graphicClass>Graphic_Multi</graphicClass>
            <drawSize>(2,2)</drawSize>
            <shadowData>
                <volume>(0.9, 1.0, 0.9)</volume>
            </shadowData>
            <addTopAltitudeBias>true</addTopAltitudeBias>
        </graphicData>
        <size>(1,1)</size>
    </ThingDef>

    <!-- Destroyed Generator -->

    <ThingDef ParentName="BuildingBase">
        <defName>Rimgate_DestroyedGeothermalGenerator</defName>
        <label>ancient geothermal generator</label>
        <description>A ruined geothermal generator. It is now completely inoperable. Its usable parts were smashed or looted long ago.</description>
        <thingClass>Building</thingClass>
        <graphicData>
            <texPath>Things/Building/Prop/RGDestroyedGeothermalGenerator</texPath>
            <graphicClass>Graphic_Single</graphicClass>
            <drawSize>(6,6)</drawSize>
            <shadowData>
                <volume>(6.03,1.0,5.25)</volume>
                <offset>(0,0,-0.25)</offset>
            </shadowData>
            <damageData>
                <rect>(0.3,0,5.4,6)</rect>
            </damageData>
        </graphicData>
        <altitudeLayer>Building</altitudeLayer>
        <passability>Impassable</passability>
        <blockWind>true</blockWind>
        <scatterableOnMapGen>true</scatterableOnMapGen>
        <fillPercent>1</fillPercent>
        <blockLight>true</blockLight>
        <canOverlapZones>false</canOverlapZones>
        <statBases>
            <MaxHitPoints>250</MaxHitPoints>
            <Flammability>0.5</Flammability>
            <Beauty>-30</Beauty>
        </statBases>
        <size>(6,6)</size>
        <rotatable>false</rotatable>
        <terrainAffordanceNeeded>Heavy</terrainAffordanceNeeded>
        <building>
            <claimable>false</claimable>
            <deconstructible>false</deconstructible>
            <neverBuildable>true</neverBuildable>
            <repairable>false</repairable>
            <displayAttackToDestroyOnInspectPane>true</displayAttackToDestroyOnInspectPane>
            <alwaysDeconstructible>false</alwaysDeconstructible>
            <ai_chillDestination>false</ai_chillDestination>
            <destroySound>BuildingDestroyed_Metal_Big</destroySound>
        </building>
    </ThingDef>

    <!-- Tox Geyser -->

    <ThingDef ParentName="BaseAncientVentThing">
        <defName>Rimgate_ToxicSpout</defName>
        <label>toxic spout</label>
        <description>A naturally-occurring break in the ground from which toxic fumes escape from an underground megastructure. It will regularly cause toxic fallout in the area.</description>
        <graphicData>
            <texPath>Things/Building/GeothermalVent</texPath>
            <graphicClass>Graphic_Single</graphicClass>
            <drawSize>(5,5)</drawSize>
        </graphicData>
        <size>(5,5)</size>
        <comps>
            <li Class="CompProperties_AncientVentEmitter">
                <compClass>CompAncientToxVent</compClass>
                <conditionToCause>ToxicFallout</conditionToCause>
                <onDurationMtbDays>12</onDurationMtbDays>
                <offDurationMtbDays>1</offDurationMtbDays>
                <heatToPush>60</heatToPush>
                <startupMessageKey>AncientToxVentStartUp</startupMessageKey>
                <shutdownMessageKey>AncientToxVentShutdown</shutdownMessageKey>
                <activeInspectStringKey>AncientToxVentActive</activeInspectStringKey>
                <activeSound>AncientVent_Ambient</activeSound>
            </li>
            <li Class="CompProperties_FleckEmitterLongTerm">
                <fleckDef>AncientToxicCloud</fleckDef>
                <spawnRadius>1.5</spawnRadius>
                <spawnChance>0.05</spawnChance>
                <spawnOffsetFromCenter>(0.0,0.0,0.0)</spawnOffsetFromCenter>
                <prewarmCycles>1.0</prewarmCycles>
                <fleckScale>2.0</fleckScale>
                <minRotationRate>-20.0</minRotationRate>
                <maxRotationRate>20.0</maxRotationRate>
                <minVelocityAngle>-20.0</minVelocityAngle>
                <maxVelocityAngle>20.0</maxVelocityAngle>
                <minVelocitySpeed>0.0</minVelocitySpeed>
                <maxVelocitySpeed>0.1</maxVelocitySpeed>
            </li>
        </comps>
    </ThingDef>

    <!-- ======================= Supply crate ======================= -->

    <ThingDef Name="Rimgate_SupplyCrateBase" ParentName="CrateBase" Abstract="True">
        <label>Supply crate</label>
        <description>A small crate that's still sealed. There may be valuables inside.</description>
        <size>(1, 1)</size>
        <fillPercent>0.3</fillPercent>
        <statBases>
            <MaxHitPoints>50</MaxHitPoints>
        </statBases>
        <rotatable>false</rotatable>
    </ThingDef>

    <ThingDef ParentName="Rimgate_SupplyCrateBase">
        <defName>Rimgate_SupplyCrate</defName>
        <graphicData>
            <texPath>Things/Building/Prop/Crate/RGSupplyCrate_Filled</texPath>
            <graphicClass>Graphic_Single</graphicClass>
            <drawSize>(1,1)</drawSize>
        </graphicData>
        <comps>
            <li Class="CompProperties_EmptyStateGraphic">
                <graphicData>
                    <texPath>Things/Building/Prop/Crate/RGSupplyCrate_Empty</texPath>
                    <graphicClass>Graphic_Single</graphicClass>
                    <drawSize>(1,1)</drawSize>
                </graphicData>
            </li>
            <li Class="CompProperties_Glower">
                <glowRadius>3</glowRadius>
                <glowColor>(151,243,255,0)</glowColor>
            </li>
        </comps>
    </ThingDef>

    <ThingDef ParentName="Rimgate_SupplyCrateBase">
        <defName>Rimgate_SupplyCrateGreen</defName>
        <graphicData>
            <texPath>Things/Building/Prop/Crate/RGSupplyCrate_FilledGreen</texPath>
            <graphicClass>Graphic_Single</graphicClass>
            <drawSize>(1,1)</drawSize>
        </graphicData>
        <comps>
            <li Class="CompProperties_EmptyStateGraphic">
                <graphicData>
                    <texPath>Things/Building/Prop/Crate/RGSupplyCrate_EmptyGreen</texPath>
                    <graphicClass>Graphic_Single</graphicClass>
                    <drawSize>(1,1)</drawSize>
                </graphicData>
            </li>
            <li Class="CompProperties_Glower">
                <glowRadius>3</glowRadius>
                <glowColor>(126,177,161,0)</glowColor>
            </li>
        </comps>
    </ThingDef>

    <ThingDef ParentName="Rimgate_SupplyCrateBase">
        <defName>Rimgate_SupplyCrateOrange</defName>
        <graphicData>
            <texPath>Things/Building/Prop/Crate/RGSupplyCrate_FilledOrange</texPath>
            <graphicClass>Graphic_Single</graphicClass>
            <drawSize>(1,1)</drawSize>
        </graphicData>
        <comps>
            <li Class="CompProperties_EmptyStateGraphic">
                <graphicData>
                    <texPath>Things/Building/Prop/Crate/RGSupplyCrate_EmptyOrange</texPath>
                    <graphicClass>Graphic_Single</graphicClass>
                    <drawSize>(1,1)</drawSize>
                </graphicData>
            </li>
            <li Class="CompProperties_Glower">
                <glowRadius>3</glowRadius>
                <glowColor>(160,116,27,0)</glowColor>
            </li>
        </comps>
    </ThingDef>

    <ThingDef ParentName="Rimgate_SupplyCrateBase">
        <defName>Rimgate_SupplyCrateRed</defName>
        <graphicData>
            <texPath>Things/Building/Prop/Crate/RGSupplyCrate_FilledRed</texPath>
            <graphicClass>Graphic_Single</graphicClass>
            <drawSize>(1,1)</drawSize>
        </graphicData>
        <comps>
            <li Class="CompProperties_EmptyStateGraphic">
                <graphicData>
                    <texPath>Things/Building/Prop/Crate/RGSupplyCrate_EmptyRed</texPath>
                    <graphicClass>Graphic_Single</graphicClass>
                    <drawSize>(1,1)</drawSize>
                </graphicData>
            </li>
            <li Class="CompProperties_Glower">
                <glowRadius>3</glowRadius>
                <glowColor>(109,13,13,0)</glowColor>
            </li>
        </comps>
    </ThingDef>

    <ThingDef ParentName="Rimgate_SupplyCrateBase">
        <defName>Rimgate_SupplyCrateYellow</defName>
        <graphicData>
            <texPath>Things/Building/Prop/Crate/RGSupplyCrate_FilledYellow</texPath>
            <graphicClass>Graphic_Single</graphicClass>
            <drawSize>(1,1)</drawSize>
        </graphicData>
        <comps>
            <li Class="CompProperties_EmptyStateGraphic">
                <graphicData>
                    <texPath>Things/Building/Prop/Crate/RGSupplyCrate_EmptyYellow</texPath>
                    <graphicClass>Graphic_Single</graphicClass>
                    <drawSize>(1,1)</drawSize>
                </graphicData>
            </li>
            <li Class="CompProperties_Glower">
                <glowRadius>3</glowRadius>
                <glowColor>(221,220,28,0)</glowColor>
            </li>
        </comps>
    </ThingDef>

    <ThingDef ParentName="Rimgate_SupplyCrateBase">
        <defName>Rimgate_SupplyCrateStone</defName>
        <graphicData>
            <texPath>Things/Building/Prop/Crate/RGSupplyCrate_FilledStone</texPath>
            <graphicClass>Graphic_Single</graphicClass>
            <drawSize>(1,1)</drawSize>
        </graphicData>
        <comps>
            <li Class="CompProperties_EmptyStateGraphic">
                <graphicData>
                    <texPath>Things/Building/Prop/Crate/RGSupplyCrate_EmptyStone</texPath>
                    <graphicClass>Graphic_Single</graphicClass>
                    <drawSize>(1,1)</drawSize>
                </graphicData>
            </li>
        </comps>
    </ThingDef>

</Defs>