<?xml version="1.0" encoding="utf-8"?>
<Defs>

	<!-- ======================= Replacement DHD ======================= -->

	<ThingDef ParentName="BuildingBase">
		<defName>Rimgate_TauriDialHomeDevice</defName>
		<thingClass>Rimgate.Building_DHD</thingClass>
		<label>Dial home device</label>
		<description>A field-grade Tau'ri replacement for the original alien DHD—built with enough spare parts, ingenuity, and juice to re-establish interstellar dialing.\nDoesn't spin, doesn’t glow, but it gets the job done. Also bolted down better than the last one.</description>
		<rotatable>false</rotatable>
		<size>(1,1)</size>
		<graphicData>
			<texPath>Things/Building/Misc/RGTauriDHD</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<drawSize>(2,2)</drawSize>
			<addTopAltitudeBias>true</addTopAltitudeBias>
		</graphicData>
		<stealable>false</stealable>
		<passability>PassThroughOnly</passability>
		<constructEffect>ConstructMetal</constructEffect>
		<uiIconScale>0.5</uiIconScale>
		<fillPercent>0.40</fillPercent>
		<canOverlapZones>true</canOverlapZones>
		<terrainAffordanceNeeded>Heavy</terrainAffordanceNeeded>
		<tickerType>Never</tickerType>
		<drawerType>RealtimeOnly</drawerType>
		<hasInteractionCell>True</hasInteractionCell>
		<interactionCellOffset>(0,0,-1)</interactionCellOffset>
		<altitudeLayer>Building</altitudeLayer>
		<preventDroppingThingsOn>true</preventDroppingThingsOn>
		<building>
			<claimable>false</claimable>
			<ai_neverTrashThis>true</ai_neverTrashThis>
		</building>
		<constructionSkillPrerequisite>6</constructionSkillPrerequisite>
		<leaveResourcesWhenKilled>true</leaveResourcesWhenKilled>
		<designationCategory>Misc</designationCategory>
		<costList>
			<Steel>300</Steel>
			<Gold>100</Gold>
			<Rimgate_Naquadah>50</Rimgate_Naquadah>
			<ComponentIndustrial>60</ComponentIndustrial>
			<ComponentSpacer>25</ComponentSpacer>
		</costList>
		<placeWorkers>
			<li>PlaceWorker_ShowFacilitiesConnections</li>
			<li>PlaceWorker_PreventInteractionSpotOverlap</li>
		</placeWorkers>
		<comps>
			<li Class="CompProperties_Facility">
				<requiresLOS>false</requiresLOS>
				<maxSimultaneous>1</maxSimultaneous>
				<maxDistance>99</maxDistance>
			</li>
			<li Class="CompProperties_Flickable" />
			<li Class="Rimgate.CompProperties_DHDControl">
				<requiresPower>true</requiresPower>
				<canToggleIris>true</canToggleIris>
				<activeGraphicData>
					<texPath>FX/Rimgate_TauriDialHomeDevice_Active</texPath>
					<graphicClass>Graphic_Single</graphicClass>
					<shaderType>Mote</shaderType>
					<drawSize>(2,2)</drawSize>
				</activeGraphicData>
			</li>
			<li Class="CompProperties_Power">
				<compClass>CompPowerTrader</compClass>
				<shortCircuitInRain>false</shortCircuitInRain>
				<basePowerConsumption>800</basePowerConsumption>
			</li>
		</comps>
		<statBases>
			<MaxHitPoints>3000</MaxHitPoints>
			<Flammability>0.4</Flammability>
			<WorkToBuild>14000</WorkToBuild>
			<Mass>30</Mass>
		</statBases>
		<terrainAffordanceNeeded>Heavy</terrainAffordanceNeeded>
		<researchPrerequisites>
			<li>Rimgate_StargateReplacementDHDResearch</li>
		</researchPrerequisites>
	</ThingDef>

	<!-- ======================= Cloning pod ======================= -->

	<ThingDef ParentName="BuildingBase">
		<defName>Rimgate_WraithCloningPod</defName>
		<label>Cloning pod</label>
		<description>A tall, grotesque biotank filled with fluorescent goo and questionable ethics. The Wraith cloning pod allows rapid gestation of bioengineered pawns. Just add biomass and a touch of hubris.\n\nRequires a skilled Doctor's time and a lot of power to operate.</description>
		<thingClass>Rimgate.Building_CloningPod</thingClass>
		<containedPawnsSelectable>true</containedPawnsSelectable>
		<graphicData>
			<texPath>Things/Building/Misc/RGWraithCloningPod</texPath>
			<graphicClass>Graphic_Multi</graphicClass>
			<drawSize>(2, 3)</drawSize>
			<addTopAltitudeBias>true</addTopAltitudeBias>
		</graphicData>
		<uiIconPath>Things/Building/Misc/RGWraithCloningPodIcon</uiIconPath>
		<researchPrerequisites>
			<li>Rimgate_WraithCloneGenome</li>
		</researchPrerequisites>
		<castEdgeShadows>false</castEdgeShadows>
		<altitudeLayer>Building</altitudeLayer>
		<stealable>false</stealable>
		<passability>PassThroughOnly</passability>
		<pathCost>70</pathCost>
		<blockWind>true</blockWind>
		<fillPercent>0.5</fillPercent>
		<canOverlapZones>false</canOverlapZones>
		<statBases>
			<WorkToBuild>3200</WorkToBuild>
			<MaxHitPoints>250</MaxHitPoints>
			<Flammability>1.0</Flammability>
			<Mass>70</Mass>
		</statBases>
		<minifiedDef>MinifiedThing</minifiedDef>
		<thingCategories>
			<li>BuildingsMisc</li>
		</thingCategories>
		<tickerType>Normal</tickerType>
		<drawerType>RealtimeOnly</drawerType>
		<size>(2,3)</size>
		<designationCategory>Misc</designationCategory>
		<hasInteractionCell>true</hasInteractionCell>
		<interactionCellOffset>(0,0,2)</interactionCellOffset>
		<rotatable>true</rotatable>
		<defaultPlacingRot>South</defaultPlacingRot>
		<building>
			<ai_chillDestination>false</ai_chillDestination>
			<uninstallWork>4500</uninstallWork>
			<destroySound>BuildingDestroyed_Metal_Small</destroySound>
			<isPlayerEjectable>true</isPlayerEjectable>
			<workTableRoomRole>Laboratory</workTableRoomRole>
		</building>
		<costList>
			<Steel>140</Steel>
			<Rimgate_Naquadah>50</Rimgate_Naquadah>
			<Rimgate_Biomass>100</Rimgate_Biomass>
			<ComponentIndustrial>6</ComponentIndustrial>
			<ComponentSpacer>2</ComponentSpacer>
		</costList>
		<placeWorkers>
			<li>PlaceWorker_PreventInteractionSpotOverlap</li>
		</placeWorkers>
		<terrainAffordanceNeeded>Heavy</terrainAffordanceNeeded>
		<constructionSkillPrerequisite>8</constructionSkillPrerequisite>
		<comps>
			<li Class="CompProperties_Refuelable">
				<fuelConsumptionRate>0</fuelConsumptionRate>
				<fuelCapacity>25.0</fuelCapacity>
				<fuelLabel>Biomass</fuelLabel>
				<consumeFuelOnlyWhenUsed>true</consumeFuelOnlyWhenUsed>
				<showAllowAutoRefuelToggle>true</showAllowAutoRefuelToggle>
				<fuelFilter>
					<thingDefs>
						<li>Rimgate_Biomass</li>
					</thingDefs>
				</fuelFilter>
			</li>
			<li Class="CompProperties_Power">
				<compClass>CompPowerTrader</compClass>
				<shortCircuitInRain>false</shortCircuitInRain>
				<basePowerConsumption>10000</basePowerConsumption>
				<idlePowerDraw>500</idlePowerDraw>
				<alwaysDisplayAsUsingPower>true</alwaysDisplayAsUsingPower>
				<powerUpgrades>
					<li>
						<researchProject>Rimgate_CloningPodOptimization</researchProject>
						<factor>0.65</factor> <!-- 35% reduction -->
					</li>
				</powerUpgrades>
			</li>
			<li Class="Rimgate.CompProperties_CloningPodControl">
				<backgroundGraphicData>
					<texPath>FX/RGClonePodBackground</texPath>
					<graphicClass>Graphic_Multi</graphicClass>
					<drawSize>(2, 3)</drawSize>
				</backgroundGraphicData>
				<fullGraphicData>
					<texPath>FX/RGClonePodFull</texPath>
					<graphicClass>Graphic_Multi</graphicClass>
					<shaderType>TransparentPostLight</shaderType>
					<drawSize>(2, 3)</drawSize>
				</fullGraphicData>
				<emptyGraphicData>
					<texPath>FX/RGClonePodEmpty</texPath>
					<graphicClass>Graphic_Multi</graphicClass>
					<shaderType>TransparentPostLight</shaderType>
					<drawSize>(2, 3)</drawSize>
				</emptyGraphicData>
			</li>
			<li Class="Rimgate.CompProperties_AnalyzableResearchWhen">
				<analysisID>1001000</analysisID>
				<requiresResearchDef>Rimgate_WraithBasic</requiresResearchDef>

				<!-- Analyzable -->

				<canStudyInPlace>true</canStudyInPlace>
				<destroyedOnAnalyzed>true</destroyedOnAnalyzed>
				<analysisDurationHours>6</analysisDurationHours>
				<completedLetterLabel>Cloning protocols recovered: {RESEARCH} unlocked</completedLetterLabel>
				<completedLetter>By dissecting the Wraith cloning pod, {PAWN_labelShort} has extracted viable growth-cycle notes and imprint scaffolding.\n\nThe biotank liquefied into sludge after exposure to atmosphere, leaving behind only the scent of ozone and regret.\n\n{RESEARCH} is now available at a research bench.</completedLetter>
				<completedLetterDef>PositiveEvent</completedLetterDef>

				<catastrophicFailureChance>0.25</catastrophicFailureChance>
				<catastrophicDestroysThing>true</catastrophicDestroysThing>
				<catastrophicExplosion>true</catastrophicExplosion>
				<catastrophicExplosionRadius>3.0</catastrophicExplosionRadius>
				<catastrophicExplosionDamage>60</catastrophicExplosionDamage>
				<catastrophicExplosionDamageDef>Bomb</catastrophicExplosionDamageDef>
				<catastrophicBlocksResearch>true</catastrophicBlocksResearch>

				<catastrophicLetterLabelKey>RG_AnalysisCatastrophicLabel</catastrophicLetterLabelKey>
				<catastrophicLetterTextKey>RG_AnalysisCatastrophicText</catastrophicLetterTextKey>

				<!-- Interactable -->

				<maintainProgress>true</maintainProgress>
				<activateTexPath>UI/Icons/Study</activateTexPath>

				<activateLabelString>Analyze...</activateLabelString>
				<activateDescString>Analyze the Wraith cloning pod.</activateDescString>
				<jobString>Analyzing cloning pod</jobString>
				<guiLabelString>Choose who should analyze this</guiLabelString>
				<inspectString>Can be analyzed by a colonist.</inspectString>

				<targetingParameters>
					<canTargetBuildings>false</canTargetBuildings>
					<canTargetAnimals>false</canTargetAnimals>
					<canTargetMechs>false</canTargetMechs>
					<onlyTargetControlledPawns>true</onlyTargetControlledPawns>
				</targetingParameters>
			</li>
		</comps>
	</ThingDef>

	<!-- ======================= Mobile Containers ======================= -->

	<!-- ABSTRACT base for all mobile containers -->
	<ThingDef Name="Rimgate_MobileContainerBase" ParentName="BuildingBase" Abstract="True">
		<defName>Rimgate_MobileContainerBase</defName>
		<category>Building</category>
		<thingClass>Rimgate.Building_MobileContainer</thingClass>
		<designationCategory>Misc</designationCategory>
		<preventDroppingThingsOn>true</preventDroppingThingsOn>
		<selectable>true</selectable>
		<altitudeLayer>Building</altitudeLayer>
		<passability>PassThroughOnly</passability>
		<pathCost>42</pathCost>
		<selectable>true</selectable>
		<drawerType>RealtimeOnly</drawerType>
		<canOverlapZones>true</canOverlapZones>
		<fillPercent>0.0</fillPercent>
		<useHitPoints>true</useHitPoints>
		<tickerType>Normal</tickerType>
		<stealable>false</stealable>
		<statBases>
			<MaxHitPoints>150</MaxHitPoints>
			<Beauty>-2</Beauty>
			<Mass>15</Mass>
		</statBases>
		<size>(1,1)</size>
		<building>
			<paintable>true</paintable>
			<isInert>true</isInert>
			<claimable>false</claimable>
		</building>
		<hasInteractionCell>True</hasInteractionCell>
		<interactionCellOffset>(0,0,-1)</interactionCellOffset>
		<surfaceType>Item</surfaceType>
		<inspectorTabs>
			<li>Rimgate.ITab_MobileContainer</li>
		</inspectorTabs>
	</ThingDef>

	<!-- Proxy item (what the pawn “carries” while pushing) -->
	<ThingDef ParentName="ResourceBase">
		<defName>Rimgate_MobileCartProxy</defName>
		<label>mobile cart (proxy)</label>
		<description>Temporary proxy representing a mobile container while in motion.</description>
		<thingClass>Rimgate.Thing_MobileCartProxy</thingClass>
		<drawerType>None</drawerType>
		<useHitPoints>false</useHitPoints>
		<selectable>false</selectable>
		<stackLimit>1</stackLimit>
		<tradeability>None</tradeability>
		<statBases>
			<Mass>5</Mass>
		</statBases>
		<comps>
			<!-- mobile logic -->
			<li Class="Rimgate.CompProperties_MobileContainerControl" />
		</comps>
	</ThingDef>

	<!-- Invisible, non-selectable attachment that only draws -->
	<ThingDef Name="Rimgate_PushedCartVisual">
		<defName>Rimgate_PushedCartVisual</defName>
		<label>pushed cart visual</label>
		<thingClass>Rimgate.Thing_PushedCartVisual</thingClass>
		<category>Item</category>
		<selectable>false</selectable>
		<altitudeLayer>Building</altitudeLayer>
		<drawerType>MapMeshAndRealTime</drawerType>
		<useHitPoints>false</useHitPoints>
		<tickerType>Never</tickerType>
		<tradeability>None</tradeability>
		<!-- No graphicData here; the class pulls from the cart's def -->
	</ThingDef>

	<!-- T1: Wheelbarrow (neolithic/industrial) -->
	<ThingDef ParentName="Rimgate_MobileContainerBase">
		<defName>Rimgate_Wheelbarrow</defName>
		<label>wheelbarrow</label>
		<description>A hand-pushed carrier with a small bed and a squeaky wheel. Slow, sturdy, and perfect for early hauling chores. Not suitable for caravaning.</description>
		<graphicData>
			<texPath>Things/Building/MobileContainer/RGWheelbarrow</texPath>
			<graphicClass>Graphic_Multi</graphicClass>
			<drawSize>(1,1)</drawSize>
		</graphicData>
		<statBases>
			<Mass>18</Mass>
			<Flammability>0.3</Flammability>
			<MaxHitPoints>120</MaxHitPoints>
		</statBases>
		<stuffCategories>
			<li>Woody</li>
			<li>Metallic</li>
		</stuffCategories>
		<costStuffCount>25</costStuffCount>
		<costList>
			<Steel>30</Steel>
			<WoodLog>25</WoodLog>
			<ComponentIndustrial>1</ComponentIndustrial>
		</costList>
		<techLevel>Industrial</techLevel>
		<comps>
			<li Class="Rimgate.CompProperties_MobileContainerControl">
				<slowdownSeverity>0.85</slowdownSeverity>
				<massCapacity>136</massCapacity>
			</li>
		</comps>
		<researchPrerequisites>
			<li>Smithing</li>
		</researchPrerequisites>
	</ThingDef>

	<!-- T2: Tracked haul cart -->
	<ThingDef ParentName="Rimgate_MobileContainerBase">
		<defName>Rimgate_MobileTrackedCart</defName>
		<label>tracked haul cart</label>
		<description>A rugged tank-tracked carrier with a bolted-down crate. Better stability and capacity than a wheelbarrow; still needs a pusher. A favorite in Tau’ri motor pools for moving “classified boxes” from one locked door to another. Not suitable for caravaning.</description>
		<graphicData>
			<texPath>Things/Building/MobileContainer/RGTrackedCart</texPath>
			<graphicClass>Graphic_Multi</graphicClass>
			<shaderType>CutoutComplex</shaderType>
			<drawSize>(1,1)</drawSize>
		</graphicData>
		<statBases>
			<Mass>28</Mass>
			<Flammability>0.3</Flammability>
			<MaxHitPoints>180</MaxHitPoints>
		</statBases>
		<stuffCategories>
			<li>Metallic</li>
		</stuffCategories>
		<costStuffCount>25</costStuffCount>
		<costList>
			<Steel>30</Steel>
			<Rimgate_Naquadah>5</Rimgate_Naquadah>
			<ComponentSpacer>1</ComponentSpacer>
		</costList>
		<techLevel>Industrial</techLevel>
		<building>
			<preventDeteriorationInside>true</preventDeteriorationInside>
		</building>
		<constructionSkillPrerequisite>4</constructionSkillPrerequisite>
		<comps>
			<li Class="Rimgate.CompProperties_MobileContainerControl">
				<slowdownSeverity>0.55</slowdownSeverity>
				<massCapacity>320</massCapacity>
			</li>
			<li Class="CompProperties_Refuelable">
				<consumeFuelOnlyWhenUsed>true</consumeFuelOnlyWhenUsed>
				<showAllowAutoRefuelToggle>true</showAllowAutoRefuelToggle>
				<fuelConsumptionRate>135.0</fuelConsumptionRate>
				<fuelCapacity>15.0</fuelCapacity>
				<fuelFilter>
					<thingDefs>
						<li>Chemfuel</li>
					</thingDefs>
				</fuelFilter>
			</li>
			<li Class="CompProperties_Breakdownable" />
		</comps>
		<researchPrerequisites>
			<li>Rimgate_TrackedCart</li>
		</researchPrerequisites>
	</ThingDef>

	<!-- T3: Hover skid (spacer) -->
	<ThingDef ParentName="Rimgate_MobileContainerBase">
		<defName>Rimgate_MobileHoverSkid</defName>
		<label>hover skid</label>
		<description>A grav-skid with inertial dampers and a sealed crate. It glides where the pusher walks—high capacity, near-frictionless handling. Rumor says the focusing ring is Naquadah-based, which would explain why it hums like a Dwarfgate room on standby. Not suitable for caravaning.</description>
		<graphicData>
			<texPath>Things/Building/MobileContainer/RGHoverSkid</texPath>
			<graphicClass>Graphic_Multi</graphicClass>
			<shaderType>CutoutComplex</shaderType>
			<drawSize>(1,1)</drawSize>
		</graphicData>
		<statBases>
			<Mass>28</Mass>
			<Flammability>0.3</Flammability>
			<MaxHitPoints>160</MaxHitPoints>
		</statBases>
		<stuffCategories>
			<li>Metallic</li>
		</stuffCategories>
		<costStuffCount>25</costStuffCount>
		<costList>
			<Steel>30</Steel>
			<Rimgate_Naquadah>5</Rimgate_Naquadah>
			<ComponentSpacer>1</ComponentSpacer>
		</costList>
		<techLevel>Spacer</techLevel>
		<building>
			<preventDeteriorationInside>true</preventDeteriorationInside>
		</building>
		<constructionSkillPrerequisite>6</constructionSkillPrerequisite>
		<comps>
			<li Class="Rimgate.CompProperties_MobileContainerControl">
				<slowdownSeverity>0.15</slowdownSeverity>
				<shouldTickContents>false</shouldTickContents>
				<massCapacity>520</massCapacity>
			</li>
			<li Class="CompProperties_Refuelable">
				<consumeFuelOnlyWhenUsed>true</consumeFuelOnlyWhenUsed>
				<showAllowAutoRefuelToggle>true</showAllowAutoRefuelToggle>
				<fuelConsumptionRate>115.0</fuelConsumptionRate>
				<fuelCapacity>10.0</fuelCapacity>
				<fuelFilter>
					<thingDefs>
						<li>Rimgate_Naquadah</li>
					</thingDefs>
				</fuelFilter>
			</li>
			<li Class="CompProperties_Breakdownable" />
			<li Class="CompProperties_Explosive">
				<wickTicks>220</wickTicks>
				<explosiveRadius>2.8</explosiveRadius>
				<explosiveDamageType>Bomb</explosiveDamageType>
				<explodeOnKilled>true</explodeOnKilled>
				<startWickHitPointsPercent>0.8</startWickHitPointsPercent>
				<chanceNeverExplodeFromDamage>0.35</chanceNeverExplodeFromDamage>
			</li>
		</comps>
		<researchPrerequisites>
			<li>Rimgate_HoverSkid</li>
		</researchPrerequisites>
	</ThingDef>

	<!-- ======================= ZPM signal shield ======================= -->

	<ThingDef ParentName="BuildingBase">
		<defName>Rimgate_SubspaceShroudEmitter</defName>
		<label>subspace shroud emitter</label>
		<description>A compact field generator that floods nearby space-time with carrier noise, masking a ZPM’s archotech power signature. While powered, linked ZPMs won’t broadcast a raid-magnet of a beacon. Tau’ri engineers call it “a blanket for your sun-in-a-can.”\n\nMust be linked to a ZPM to function. Once synchronized, it masks all ZPMs on this map.</description>
		<size>(1,1)</size>
		<rotatable>false</rotatable>
		<category>Building</category>
		<graphicData>
			<texPath>Things/Building/Misc/RGSubspaceShroud</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<drawSize>(1.1,1.1)</drawSize>
		</graphicData>
		<altitudeLayer>Building</altitudeLayer>
		<selectable>true</selectable>
		<tickerType>Normal</tickerType>
		<stackLimit>1</stackLimit>
		<passability>PassThroughOnly</passability>
		<pathCost>150</pathCost>
		<thingCategories>
			<li>BuildingsMisc</li>
		</thingCategories>
		<minifiedDef>MinifiedThing</minifiedDef>
		<terrainAffordanceNeeded>Light</terrainAffordanceNeeded>
		<statBases>
			<MaxHitPoints>160</MaxHitPoints>
			<WorkToBuild>1800</WorkToBuild>
			<Flammability>0</Flammability>
			<Mass>8</Mass>
			<Beauty>-2</Beauty>
		</statBases>
		<costList>
			<Steel>40</Steel>
			<ComponentIndustrial>2</ComponentIndustrial>
			<ComponentSpacer>1</ComponentSpacer>
			<Rimgate_Naquadah>5</Rimgate_Naquadah>
		</costList>
		<placeWorkers>
			<li>PlaceWorker_ShowFacilitiesConnections</li>
		</placeWorkers>
		<designationCategory>Misc</designationCategory>
		<researchPrerequisites>
			<li>Rimgate_SubspaceMasking</li>
		</researchPrerequisites>
		<comps>
			<li Class="CompProperties_Flickable" />
			<li Class="CompProperties_Power">
				<compClass>CompPowerTrader</compClass>
				<basePowerConsumption>200</basePowerConsumption>
				<shortCircuitInRain>false</shortCircuitInRain>
			</li>
			<li Class="CompProperties_Glower">
				<glowRadius>2.9</glowRadius>
				<glowColor>(120,200,255,0)</glowColor>
			</li>
			<li Class="CompProperties_Facility">
				<maxSimultaneous>99</maxSimultaneous>
				<mustBePlacedAdjacent>true</mustBePlacedAdjacent>
				<showMaxSimultaneous>false</showMaxSimultaneous>
			</li>
			<!-- toggles ZPM-raid suppression on this map while powered -->
			<li>
				<compClass>Rimgate.Comp_ZpmSignalScrambler</compClass>
			</li>
		</comps>
	</ThingDef>

	<!-- ======================= Subspace Phase Diverter ======================= -->

	<ThingDef ParentName="BuildingBase">
		<defName>Rimgate_SubspacePhaseDiverter</defName>
		<label>subspace phase diverter</label>
		<description>An advanced rig that can couple your ZPMs to adjacent subspace pockets, letting any ZPM to slowly replenish its reserve. It doesn’t create energy; it changes where you’re siphoning it from.</description>
		<size>(2,2)</size>
		<rotatable>false</rotatable>
		<graphicData>
			<texPath>Things/Building/Misc/RGSubspacePhaseDiverter</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<drawSize>(2,2)</drawSize>
		</graphicData>
		<altitudeLayer>Building</altitudeLayer>
		<selectable>true</selectable>
		<tickerType>Rare</tickerType>
		<stackLimit>1</stackLimit>
		<thingCategories>
			<li>BuildingsMisc</li>
		</thingCategories>
		<minifiedDef>MinifiedThing</minifiedDef>
		<passability>PassThroughOnly</passability>
		<pathCost>150</pathCost>
		<statBases>
			<MaxHitPoints>200</MaxHitPoints>
			<WorkToBuild>4200</WorkToBuild>
			<Flammability>0.0</Flammability>
			<Beauty>-4</Beauty>
			<Mass>40</Mass>
		</statBases>
		<costList>
			<Steel>120</Steel>
			<Plasteel>60</Plasteel>
			<ComponentIndustrial>4</ComponentIndustrial>
			<ComponentSpacer>4</ComponentSpacer>
		</costList>
		<designationCategory>Misc</designationCategory>
		<researchPrerequisites>
			<li>Rimgate_ParallelSubspaceCoupling</li>
		</researchPrerequisites>
		<comps>
			<li Class="CompProperties_Power">
				<compClass>CompPowerTrader</compClass>
				<basePowerConsumption>200</basePowerConsumption>
				<shortCircuitInRain>false</shortCircuitInRain>
			</li>
			<li Class="CompProperties_Flickable" />
			<li Class="CompProperties_Facility">
				<maxSimultaneous>6</maxSimultaneous>
				<maxDistance>4</maxDistance>
				<minDistance>1</minDistance>
				<requiresLOS>true</requiresLOS>
				<showMaxSimultaneous>false</showMaxSimultaneous>
			</li>
		</comps>
		<placeWorkers>
			<li>PlaceWorker_ShowFacilitiesConnections</li>
		</placeWorkers>
	</ThingDef>

	<!-- ======================= Ancient Shield Emitter ======================= -->

	<ThingDef ParentName="BuildingBase">
		<defName>Rimgate_AncientShieldEmitter</defName>
		<label>Ancient Shield Emitter</label>
		<description>An ancient device that projects a protective energy field around itself, capable of deflecting incoming projectiles and protecting nearby units.\n\nRequires an immense amount of power, and adequate cooling, to function.  If stressed too hard, it will shut down and require a cooldown period before resuming operation.</description>
		<graphicData>
			<texPath>Things/Building/Misc/RGAncientShieldEmitter</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<drawSize>(1,1)</drawSize>
			<shadowData>
				<volume>(0.6, 0.4, 0.6)</volume>
			</shadowData>
			<damageData>
				<rect>(0.2, 0.2, 0.6, 0.6)</rect>
			</damageData>
		</graphicData>
		<altitudeLayer>Building</altitudeLayer>
		<size>(1,1)</size>

		<statBases>
			<Mass>35</Mass>
			<MaxHitPoints>250</MaxHitPoints>
			<Flammability>0</Flammability>
			<MarketValue>5000</MarketValue>
			<WorkToBuild>20000</WorkToBuild>
			<Beauty>5</Beauty>
		</statBases>

		<pathCost>50</pathCost>
		<blockWind>true</blockWind>
		<passability>PassThroughOnly</passability>
		<fillPercent>1.0</fillPercent>
		<tickerType>Normal</tickerType>
		<rotatable>false</rotatable>
		<selectable>true</selectable>
		<soundImpactDefault>BulletImpact_Metal</soundImpactDefault>
		<drawerType>MapMeshAndRealTime</drawerType>
		<repairEffect>ConstructMetal</repairEffect>
		<terrainAffordanceNeeded>Heavy</terrainAffordanceNeeded>
		<designationCategory>Misc</designationCategory>
		<minifiedDef>MinifiedThing</minifiedDef>
		<thingCategories>
			<li>BuildingsMisc</li>
		</thingCategories>
		<techLevel>Ultra</techLevel>
		<researchPrerequisites>
			<li>Rimgate_AncientShieldEmitter</li>
		</researchPrerequisites>

		<building>
			<ai_chillDestination>false</ai_chillDestination>
			<uninstallWork>4500</uninstallWork>
			<destroySound>BuildingDestroyed_Metal_Small</destroySound>
			<claimable>true</claimable>
			<roofCollapseDamageMultiplier>0.2</roofCollapseDamageMultiplier>
		</building>

		<constructionSkillPrerequisite>8</constructionSkillPrerequisite>

		<costList>
			<Steel>25</Steel>
			<Gold>25</Gold>
			<Plasteel>50</Plasteel>
			<Rimgate_Naquadah>50</Rimgate_Naquadah>
			<BroadshieldCore>1</BroadshieldCore>
		</costList>
		<resourcesFractionWhenDeconstructed>1</resourcesFractionWhenDeconstructed>
		<leaveResourcesWhenKilled>false</leaveResourcesWhenKilled>
		<killedLeavings>
			<Plasteel>7</Plasteel>
		</killedLeavings>

		<comps>
			<li Class="CompProperties_Flickable" />
			<li Class="CompProperties_Breakdownable" />
			<li Class="CompProperties_Power">
				<compClass>CompPowerTrader</compClass>
				<basePowerConsumption>4500</basePowerConsumption>
			</li>
			<li Class="CompProperties_HeatPusher">
				<compClass>CompHeatPusherPowered</compClass>
				<heatPerSecond>6</heatPerSecond>
			</li>
			<li Class="Rimgate.CompProperties_ShieldEmitter">
				<compClass>Rimgate.Comp_ShieldEmitter</compClass>
				<interceptAirProjectiles>true</interceptAirProjectiles>
				<interceptGroundProjectiles>true</interceptGroundProjectiles>
				<interceptNonHostileProjectiles>false</interceptNonHostileProjectiles>
				<podBlocker>true</podBlocker>
				<resetTime>3000</resetTime>
				<sizeScalesPowerUsage>true</sizeScalesPowerUsage>
				<powerUsageRange>4500~29000</powerUsageRange>
				<shieldCanBeScaled>true</shieldCanBeScaled>
				<shieldScaleLimits>5~99</shieldScaleLimits>
				<shieldScaleDefault>5</shieldScaleDefault>
				<stressPerDamage>0.01</stressPerDamage> <!-- default 0.003 -->
				<stressReduction>1</stressReduction> <!-- default 1-->
				<empDamageFactor>4.5</empDamageFactor>
				<shieldOverloadThreshold>0.9</shieldOverloadThreshold>
				<shieldOverloadChance>0.1</shieldOverloadChance>
				<extraOverloadRange>10</extraOverloadRange>
				<overloadDamageType>EMP</overloadDamageType>
				<explodeOnCollapse>false</explodeOnCollapse>
				<shieldColor>(237, 227, 133)</shieldColor>
			</li>
		</comps>

	</ThingDef>

	<!-- ======================= Symbiote Spawning Pool ======================= -->

	<ThingDef ParentName="BuildingBase">
		<defName>Rimgate_SymbioteSpawningPool</defName>
		<label>symbiote spawning pool</label>
		<description>A carved, stone-lined biopool designed to house a Goa'uld symbiote queen and her brood.\n\nThe bio-reactive medium preserves all symbiotic tissue indefinitely, preventing decomposition and stasis loss while submerged, until called to serve a new host.\n\nWhen stocked regularly with prepared feed, it will slowly produce new symbiotes ready for implantation. If neglected, the hunger in the pool does not simply go away—it waits for whatever is unfortunate enough to fall in.</description>
		<descriptionHyperlinks>
			<ThingDef>Rimgate_SymbioteQueen</ThingDef>
			<ThingDef>Rimgate_GoauldSymbiote</ThingDef>
			<ThingDef>Rimgate_PrimtaSymbiote</ThingDef>
		</descriptionHyperlinks>

		<thingClass>Rimgate.Building_SymbioteSpawningPool</thingClass>

		<size>(2,2)</size>
		<altitudeLayer>FloorEmplacement</altitudeLayer>
		<passability>PassThroughOnly</passability>
		<pathCost>50</pathCost>
		<rotatable>false</rotatable>
		<useHitPoints>true</useHitPoints>
		<selectable>true</selectable>
		<drawerType>MapMeshAndRealTime</drawerType>
		<tickerType>Rare</tickerType>
		<castEdgeShadows>false</castEdgeShadows>
		<blockWind>true</blockWind>
		<fillPercent>0.75</fillPercent>
		<terrainAffordanceNeeded>Medium</terrainAffordanceNeeded>
		<drawGUIOverlay>true</drawGUIOverlay>
		<category>Building</category>
		<designationCategory>Misc</designationCategory>
		<stealable>false</stealable>

		<graphicData>
			<texPath>Things/Building/Misc/RGSymbioteSpawningPool</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<drawSize>(2,2)</drawSize>
			<shaderType>CutoutComplex</shaderType>
			<!-- <shadowData>
				<volume>(0.8, 0.3, 0.8)</volume>
			</shadowData> -->
		</graphicData>

		<statBases>
			<MaxHitPoints>300</MaxHitPoints>
			<WorkToBuild>6000</WorkToBuild>
			<Flammability>0.5</Flammability>
			<Beauty>3</Beauty>
			<Mass>80</Mass>
		</statBases>

		<constructionSkillPrerequisite>6</constructionSkillPrerequisite>

		<stuffCategories>
			<li>Stony</li>
		</stuffCategories>
		<costStuffCount>120</costStuffCount>
		<costList>
			<Steel>140</Steel>
		</costList>

		<hasInteractionCell>true</hasInteractionCell>
		<interactionCellOffset>(0,0,0)</interactionCellOffset>

		<building>
			<storageGroupTag>Shelf</storageGroupTag>
			<blueprintClass>Blueprint_Storage</blueprintClass>
			<ai_chillDestination>false</ai_chillDestination>
			<isInert>true</isInert>
			<paintable>false</paintable>
			<claimable>false</claimable>
			<preventDeteriorationInside>true</preventDeteriorationInside>
			<haulToContainerDuration>250</haulToContainerDuration>
			<ignoreStoredThingsBeauty>true</ignoreStoredThingsBeauty>
			<defaultStorageSettings>
				<priority>Important</priority>
				<filter>
					<thingDefs>
						<li>Rimgate_PrimtaSymbiote</li>
						<li>Rimgate_GoauldSymbiote</li>
						<li>Rimgate_SymbioteQueen</li>
					</thingDefs>
				</filter>
			</defaultStorageSettings>
			<fixedStorageSettings>
				<filter>
					<thingDefs>
						<li>Rimgate_PrimtaSymbiote</li>
						<li>Rimgate_GoauldSymbiote</li>
						<li>Rimgate_SymbioteQueen</li>
					</thingDefs>
				</filter>
			</fixedStorageSettings>
			<maxItemsInCell>15</maxItemsInCell>
		</building>

		<inspectorTabs>
			<li>Rimgate.ITab_SymbiotePool</li>
		</inspectorTabs>

		<researchPrerequisites>
			<li>Rimgate_SymbioteStudy</li>
		</researchPrerequisites>

		<comps>

			<!-- Fuel (kibble as "biomass feed") -->
			<li Class="CompProperties_Refuelable">
				<fuelCapacity>25</fuelCapacity>
				<fuelLabel>Symbiote feed</fuelLabel>
				<fuelGizmoLabel>Symbiote feed</fuelGizmoLabel>
				<fuelFilter>
					<thingDefs>
						<li>Kibble</li>
					</thingDefs>
				</fuelFilter>
				<initialFuelPercent>0</initialFuelPercent>
				<consumeFuelOnlyWhenUsed>true</consumeFuelOnlyWhenUsed>
				<autoRefuelPercent>0.5</autoRefuelPercent>
				<showAllowAutoRefuelToggle>true</showAllowAutoRefuelToggle>
				<drawOutOfFuelOverlay>true</drawOutOfFuelOverlay>
			</li>

			<li Class="Rimgate.CompProperties_SymbiotePool">
				<symbioteQueenDef>Rimgate_SymbioteQueen</symbioteQueenDef>
				<productSymbioteDef>Rimgate_PrimtaSymbiote</productSymbioteDef>
				<daysPerSymbiote>3.0</daysPerSymbiote>
				<fuelPerSymbiote>2.0</fuelPerSymbiote>
			</li>
			<li Class="Rimgate.CompProperties_AnimatedSymbiotePool" />
		</comps>
	</ThingDef>

	<!-- ======================= Tau'ri Desk ======================= -->

	<ThingDef ParentName="BuildingBase">
		<defName>Rimgate_TauriResearchDesk</defName>
		<label>Research desk</label>
		<description>A Tau'ri research station with a humming terminal, intact data routing, and just enough alien UI to make your brightest colonist feel slightly inadequate.\n\nDramatically accelerates complex research when linked to a hi-tech bench — and certain folk have spread the word on how to bypass safety protocols, allowing colonists to pretend to "research" for hours while off the clock.</description>
		<graphicData>
			<texPath>Things/Building/Misc/RGTauriDesk</texPath>
			<graphicClass>Graphic_Multi</graphicClass>
			<shaderType>CutoutComplex</shaderType>
			<drawSize>(3,1.5)</drawSize>
			<addTopAltitudeBias>true</addTopAltitudeBias>
		</graphicData>
		<rotatable>true</rotatable>
		<size>(3,1)</size>

		<statBases>
			<MaxHitPoints>160</MaxHitPoints>
			<Flammability>0.2</Flammability>
			<Mass>25</Mass>
			<WorkToBuild>2200</WorkToBuild>
			<Beauty>2</Beauty>
			<JoyGainFactor>1</JoyGainFactor>
		</statBases>

		<costList>
			<Steel>80</Steel>
			<Plasteel>40</Plasteel>
			<ComponentIndustrial>4</ComponentIndustrial>
			<ComponentSpacer>2</ComponentSpacer>
		</costList>

		<fillPercent>0.4</fillPercent>
		<castEdgeShadows>True</castEdgeShadows>
		<staticSunShadowHeight>0.2</staticSunShadowHeight>
		<surfaceType>Item</surfaceType>
		<socialPropernessMatters>true</socialPropernessMatters>
		<building>
			<claimable>true</claimable>
			<alwaysDeconstructible>true</alwaysDeconstructible>
			<canLandGravshipOn>true</canLandGravshipOn>
			<joyKind>Gaming_Cerebral</joyKind>
			<workTableRoomRole>Laboratory</workTableRoomRole>
			<workTableNotInRoomRoleFactor>0.8</workTableNotInRoomRoleFactor>
		</building>
		<placeWorkers>
			<li>PlaceWorker_PreventInteractionSpotOverlap</li>
			<li>PlaceWorker_DrawLinesToResearchTablesInRoom</li>
		</placeWorkers>

		<minifiedDef>MinifiedThing</minifiedDef>
		<thingCategories>
			<li>BuildingsMisc</li>
		</thingCategories>

		<noRightClickDraftAttack>true</noRightClickDraftAttack>
		<passability>PassThroughOnly</passability>
		<pathCost>50</pathCost>
		<canOverlapZones>false</canOverlapZones>
		<altitudeLayer>Building</altitudeLayer>
		<interactionCellIcon>DiningChair</interactionCellIcon>
		<hasInteractionCell>true</hasInteractionCell>
		<interactionCellOffset>(0,0,-1)</interactionCellOffset>

		<terrainAffordanceNeeded>Medium</terrainAffordanceNeeded>
		<designationCategory>Misc</designationCategory>
		<designationHotKey>Misc4</designationHotKey>
		<constructEffect>ConstructMetal</constructEffect>

		<researchPrerequisites>
			<li>Rimgate_TauriBasic</li>
		</researchPrerequisites>

		<constructionSkillPrerequisite>6</constructionSkillPrerequisite>

		<comps>
			<li Class="CompProperties_Power">
				<compClass>CompPowerTrader</compClass>
				<basePowerConsumption>200</basePowerConsumption>
				<shortCircuitInRain>true</shortCircuitInRain>
			</li>

			<li Class="CompProperties_Flickable" />

			<!-- Acts as a research facility for HiTechResearchBench -->
			<li Class="CompProperties_Facility">
				<linkableBuildings>
					<li>HiTechResearchBench</li>
				</linkableBuildings>
				<statOffsets>
					<ResearchSpeedFactor>0.25</ResearchSpeedFactor>
				</statOffsets>
				<maxSimultaneous>1</maxSimultaneous>
				<requiresLOS>false</requiresLOS>
				<maxDistance>10</maxDistance>
			</li>
		</comps>
	</ThingDef>

	<!-- ======================= Tau'ri Drafting Desk ======================= -->

	<ThingDef ParentName="BuildingBase">
		<defName>Rimgate_TauriDraftingDesk</defName>
		<label>Blueprint Table</label>
		<description>A Tau'ri drafting console layered with glowing schematics, naquadah lattice diagrams, and notes in three different classification levels. When linked to a hi-tech bench, it streamlines research planning so efficiently that your colonists start finishing projects before the paperwork catches up.</description>

		<graphicData>
			<texPath>Things/Building/Misc/RGTauriDraftingDesk</texPath>
			<graphicClass>Graphic_Multi</graphicClass>
			<shaderType>CutoutComplex</shaderType>
			<drawSize>(1,1)</drawSize>
		</graphicData>
		<rotatable>true</rotatable>
		<defaultPlacingRot>South</defaultPlacingRot>
		<size>(1,1)</size>

		<statBases>
			<MaxHitPoints>120</MaxHitPoints>
			<Flammability>0.2</Flammability>
			<Mass>18</Mass>
			<WorkToBuild>1800</WorkToBuild>
			<Beauty>1</Beauty>
		</statBases>

		<costList>
			<Steel>50</Steel>
			<Plasteel>25</Plasteel>
			<ComponentIndustrial>3</ComponentIndustrial>
		</costList>

		<building>
			<claimable>true</claimable>
			<alwaysDeconstructible>true</alwaysDeconstructible>
			<canLandGravshipOn>true</canLandGravshipOn>
			<workTableRoomRole>Laboratory</workTableRoomRole>
			<workTableNotInRoomRoleFactor>0.8</workTableNotInRoomRoleFactor>
		</building>
		<placeWorkers>
			<li>PlaceWorker_DrawLinesToResearchTablesInRoom</li>
		</placeWorkers>

		<minifiedDef>MinifiedThing</minifiedDef>
		<thingCategories>
			<li>BuildingsMisc</li>
		</thingCategories>

		<fillPercent>0.4</fillPercent>
		<castEdgeShadows>True</castEdgeShadows>
		<staticSunShadowHeight>0.2</staticSunShadowHeight>

		<noRightClickDraftAttack>true</noRightClickDraftAttack>
		<passability>PassThroughOnly</passability>
		<pathCost>50</pathCost>
		<canOverlapZones>false</canOverlapZones>
		<altitudeLayer>Building</altitudeLayer>

		<terrainAffordanceNeeded>Medium</terrainAffordanceNeeded>
		<designationCategory>Misc</designationCategory>
		<designationHotKey>Misc4</designationHotKey>
		<constructEffect>ConstructMetal</constructEffect>

		<researchPrerequisites>
			<li>Rimgate_TauriBasic</li>
		</researchPrerequisites>

		<constructionSkillPrerequisite>5</constructionSkillPrerequisite>

		<comps>
			<li Class="CompProperties_Power">
				<compClass>CompPowerTrader</compClass>
				<basePowerConsumption>120</basePowerConsumption>
				<shortCircuitInRain>true</shortCircuitInRain>
			</li>

			<li Class="CompProperties_Flickable" />

			<li Class="CompProperties_Glower">
				<glowRadius>2.9</glowRadius>
				<glowColor>(200,230,230,0)</glowColor>
			</li>

			<!-- Acts as a secondary research facility -->
			<li Class="CompProperties_Facility">
				<linkableBuildings>
					<li>HiTechResearchBench</li>
				</linkableBuildings>
				<statOffsets>
					<ResearchSpeedFactor>0.15</ResearchSpeedFactor>
				</statOffsets>
				<maxSimultaneous>1</maxSimultaneous>
				<requiresLOS>false</requiresLOS>
				<maxDistance>10</maxDistance>
			</li>
		</comps>
	</ThingDef>

</Defs>