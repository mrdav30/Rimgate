<?xml version="1.0" encoding="utf-8"?>
<Defs>

  <!-- ================ Goauld wall =================== -->

  <ThingDef ParentName="BuildingBase">
    <defName>Rimgate_GoauldWall</defName>
    <label>Goa'uld wall</label>
    <description>An immovable monument to Goa'uld hubris—equal parts barrier and flex. Holds up roofs, egos, and possibly entire civilizations.</description>
    <thingClass>Building</thingClass>
    <category>Building</category>
    <graphicData>
      <texPath>Things/Building/Structure/RGGoauldWall</texPath>
      <color>(108,78,55)</color>
      <graphicClass>Graphic_Single</graphicClass>
      <linkType>CornerFiller</linkType>
      <linkFlags>
        <li>Wall</li>
        <li>Rock</li>
      </linkFlags>
      <damageData>
        <cornerTL>Damage/Corner</cornerTL>
        <cornerTR>Damage/Corner</cornerTR>
        <cornerBL>Damage/Corner</cornerBL>
        <cornerBR>Damage/Corner</cornerBR>
        <edgeTop>Damage/Edge</edgeTop>
        <edgeBot>Damage/Edge</edgeBot>
        <edgeLeft>Damage/Edge</edgeLeft>
        <edgeRight>Damage/Edge</edgeRight>
      </damageData>
    </graphicData>
    <replaceTags>
      <li>Wall</li>
    </replaceTags>
    <uiIconPath>Things/Building/Structure/RGGoauldWallIcon</uiIconPath>
    <statBases>
      <MaxHitPoints>850</MaxHitPoints>
      <WorkToBuild>1675</WorkToBuild>
      <Flammability>0.0</Flammability>
      <Beauty>4</Beauty>
      <Cleanliness>0.2</Cleanliness>
    </statBases>
    <leaveResourcesWhenKilled>false</leaveResourcesWhenKilled>
    <altitudeLayer>Building</altitudeLayer>
    <passability>Impassable</passability>
    <blockWind>true</blockWind>
    <castEdgeShadows>true</castEdgeShadows>
    <fillPercent>1</fillPercent>
    <coversFloor>true</coversFloor>
    <drawStyleCategory>Walls</drawStyleCategory>
    <tickerType>Never</tickerType>
    <rotatable>false</rotatable>
    <selectable>true</selectable>
    <neverMultiSelect>true</neverMultiSelect>
    <terrainAffordanceNeeded>Medium</terrainAffordanceNeeded>
    <holdsRoof>true</holdsRoof>
    <designationCategory>Structure</designationCategory>
    <staticSunShadowHeight>1.0</staticSunShadowHeight>
    <blockLight>true</blockLight>
    <canOverlapZones>false</canOverlapZones>
    <building>
      <isWall>true</isWall>
      <supportsWallAttachments>true</supportsWallAttachments>
      <isAirtight>true</isAirtight>
      <isInert>true</isInert>
      <isPlaceOverableWall>true</isPlaceOverableWall>
      <blueprintGraphicData>
        <texPath>Things/Building/Linked/Wall_Blueprint_Atlas</texPath>
      </blueprintGraphicData>
      <relatedBuildCommands>
        <li>Door</li>
        <li>Autodoor</li>
        <li>OrnateDoor</li>
        <li MayRequire="Ludeon.RimWorld.Anomaly">SecurityDoor</li>
        <li MayRequire="Ludeon.RimWorld.Odyssey">VacBarrier</li>
        <li>Cooler</li>
        <li>Vent</li>
      </relatedBuildCommands>
    </building>
    <damageMultipliers>
      <li>
        <damageDef>Bomb</damageDef>
        <multiplier>0.5</multiplier>
      </li>
      <li>
        <damageDef>Thump</damageDef>
        <multiplier>0.5</multiplier>
      </li>
    </damageMultipliers>
    <designationHotKey>Misc3</designationHotKey>
    <costList>
      <Steel>2</Steel>
      <Gold>1</Gold>
      <Rimgate_Naquadah>2</Rimgate_Naquadah>
    </costList>
    <researchPrerequisites>
      <li>Rimgate_GoauldBasic</li>
    </researchPrerequisites>
  </ThingDef>

  <!-- ================ Wraith wall =================== -->

  <ThingDef ParentName="BuildingBase">
    <defName>Rimgate_WraithHiveWall</defName>
    <label>Wraith hive wall</label>
    <description>A pulsating, organic wall born of Wraith biotech. It doesn't just hold up roofs—it whispers. Probably best not to listen.</description>
    <thingClass>Building</thingClass>
    <category>Building</category>
    <graphicData>
      <texPath>Things/Building/Structure/RGWraithHiveWall</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <linkType>CornerFiller</linkType>
      <linkFlags>
        <li>Wall</li>
        <li>Rock</li>
      </linkFlags>
      <damageData>
        <cornerTL>Damage/Corner</cornerTL>
        <cornerTR>Damage/Corner</cornerTR>
        <cornerBL>Damage/Corner</cornerBL>
        <cornerBR>Damage/Corner</cornerBR>
        <edgeTop>Damage/Edge</edgeTop>
        <edgeBot>Damage/Edge</edgeBot>
        <edgeLeft>Damage/Edge</edgeLeft>
        <edgeRight>Damage/Edge</edgeRight>
      </damageData>
    </graphicData>
    <replaceTags>
      <li>Wall</li>
    </replaceTags>
    <uiIconPath>Things/Building/Structure/RGWraithHiveWallIcon</uiIconPath>
    <statBases>
      <Beauty>4</Beauty>
      <MaxHitPoints>1000</MaxHitPoints>
      <WorkToBuild>1550</WorkToBuild>
      <Flammability>0.25</Flammability>
      <Cleanliness>-0.2</Cleanliness>
    </statBases>
    <leaveResourcesWhenKilled>false</leaveResourcesWhenKilled>
    <altitudeLayer>Building</altitudeLayer>
    <passability>Impassable</passability>
    <blockWind>true</blockWind>
    <castEdgeShadows>true</castEdgeShadows>
    <fillPercent>1</fillPercent>
    <coversFloor>true</coversFloor>
    <drawStyleCategory>Walls</drawStyleCategory>
    <tickerType>Never</tickerType>
    <rotatable>false</rotatable>
    <selectable>true</selectable>
    <neverMultiSelect>true</neverMultiSelect>
    <terrainAffordanceNeeded>Medium</terrainAffordanceNeeded>
    <holdsRoof>true</holdsRoof>
    <designationCategory>Structure</designationCategory>
    <staticSunShadowHeight>1.0</staticSunShadowHeight>
    <blockLight>true</blockLight>
    <canOverlapZones>false</canOverlapZones>
    <building>
      <isWall>true</isWall>
      <supportsWallAttachments>true</supportsWallAttachments>
      <isAirtight>true</isAirtight>
      <isInert>true</isInert>
      <isPlaceOverableWall>true</isPlaceOverableWall>
      <blueprintGraphicData>
        <texPath>Things/Building/Linked/Wall_Blueprint_Atlas</texPath>
      </blueprintGraphicData>
      <relatedBuildCommands>
        <li>Door</li>
        <li>Autodoor</li>
        <li>OrnateDoor</li>
        <li MayRequire="Ludeon.RimWorld.Anomaly">SecurityDoor</li>
        <li MayRequire="Ludeon.RimWorld.Odyssey">VacBarrier</li>
        <li>Cooler</li>
        <li>Vent</li>
      </relatedBuildCommands>
    </building>
    <damageMultipliers>
      <li>
        <damageDef>Bomb</damageDef>
        <multiplier>0.5</multiplier>
      </li>
      <li>
        <damageDef>Thump</damageDef>
        <multiplier>0.5</multiplier>
      </li>
    </damageMultipliers>
    <designationHotKey>Misc3</designationHotKey>
    <costList>
      <Steel>3</Steel>
      <Rimgate_Naquadah>1</Rimgate_Naquadah>
      <Rimgate_Biomass>5</Rimgate_Biomass>
    </costList>
    <researchPrerequisites>
      <li>Rimgate_WraithBasic</li>
    </researchPrerequisites>
  </ThingDef>

  <!-- =============== Force Field Door =============== -->

  <ThingDef ParentName="DoorBase">
    <defName>Rimgate_ForceFieldDoor</defName>
    <label>force field</label>
    <description>A humming energy barrier. Red when locked, blue when hacked and safe to pass.</description>
    <thingClass>Rimgate.Building_HackableForceField</thingClass>
    <destroyable>false</destroyable>
    <designationCategory IsNull="True" />
    <rotatable>true</rotatable>
    <graphicData>
      <texPath>Things/Building/Structure/RGForceField_BarrierBlue</texPath>
      <graphicClass>Graphic_Multi</graphicClass>
      <shaderType>TransparentPostLight</shaderType>
      <drawSize>(1.6,1.6)</drawSize>
      <damageData>
        <enabled>false</enabled>
      </damageData>
    </graphicData>
    <useHitPoints>false</useHitPoints>
    <statBases>
      <Flammability>0</Flammability>
    </statBases>
    <building>
      <paintable>false</paintable>
      <deconstructible>false</deconstructible>
      <claimable>false</claimable>
      <neverBuildable>true</neverBuildable>
      <isAirtight>true</isAirtight>
      <isSupportDoor>true</isSupportDoor>
      <doorTopGraphic>
        <texPath>Things/Building/Structure/RGBForceFieldDoor_Top</texPath>
        <graphicClass>Graphic_Multi</graphicClass>
        <drawSize>(1.6,1.6)</drawSize>
      </doorTopGraphic>
      <doorTopHorizontalOffset>(0,0,-0.025)</doorTopHorizontalOffset>
      <expandHomeArea>false</expandHomeArea>
    </building>

    <stuffCategories Inherit="False" />
    <useStuffTerrainAffordance>false</useStuffTerrainAffordance>

    <comps>
      <li Class="CompProperties_Hackable">
        <defence>2400</defence>
        <effectHacking>HackingTerminal</effectHacking>
        <lockoutDurationHoursRange>2~3</lockoutDurationHoursRange>
        <notHackedInspectString>Barrier is locked. Hack to disperse.</notHackedInspectString>
        <hackedInspectString>Barrier dispersed. Safe to pass.</hackedInspectString>
        <hackedMessage>{HACKER_labelShort} disabled the defensive force field.</hackedMessage>
        <showProgressAfterHackCompletion>false</showProgressAfterHackCompletion>

        <unhackedGraphicData>
          <texPath>Things/Building/Structure/RGForceField_BarrierRed</texPath>
          <graphicClass>Graphic_Multi</graphicClass>
          <shaderType>TransparentPostLight</shaderType>
          <drawSize>(1.6,1.6)</drawSize>
        </unhackedGraphicData>
        <!-- <unhackedGraphicOffset>(0,0.1,0)</unhackedGraphicOffset> -->
        <graphicDrawerType>RealtimeOnly</graphicDrawerType>
      </li>
    </comps>
  </ThingDef>

  <!-- ================ Jammed Doors =================== -->

  <!-- ===== Jammed door: abstract base you can inherit for any “pry-to-open” door ===== -->
  <ThingDef Name="Rimgate_JammedDoorBase" ParentName="Door" Abstract="True">
    <defName>Rimgate_JammedDoorBase</defName>
    <label>jammed door (base)</label>
    <description>An inoperable, sealed door that must be forced open. Indestructible and airtight until someone spends time prying it loose.</description>

    <!-- Indestructible / not buildable / airtight -->
    <destroyable>false</destroyable>
    <useHitPoints>false</useHitPoints>
    <designationCategory IsNull="True" />
    <thingClass>Building_JammedDoor</thingClass>
    <useStuffTerrainAffordance>false</useStuffTerrainAffordance>

    <statBases>
      <Flammability>0</Flammability>
    </statBases>

    <building>
      <!-- <paintable>false</paintable> -->
      <deconstructible>false</deconstructible>
      <claimable>false</claimable>
      <neverBuildable>true</neverBuildable>
      <isAirtight>true</isAirtight>
      <canPlaceOverWall>true</canPlaceOverWall>
    </building>

  </ThingDef>

  <ThingDef ParentName="Rimgate_JammedDoorBase">
    <defName>Rimgate_JammedBlastDoor</defName>
    <label>jammed blast door</label>
    <description>A heavy blast door, bent and jammed beyond normal operation. Once meant to seal corridors from enemy incursion—or something worse—it now hums with locked hydraulics. Forcing it open may reveal why it was sealed.</description>

    <stuffCategories Inherit="False">
      <li>Metallic</li>
    </stuffCategories>
    <costStuffCount>25</costStuffCount>

    <!-- “Mover” shell -->
    <graphicData>
      <texPath>Things/Building/Structure/RGBlastDoor_Mover</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>

    <comps Inherit="False">
      <li Class="CompProperties_LabyrinthDoor">
        <!-- Jammed fill (non-tinted) -->
        <jammed>
          <texPath>Things/Building/Structure/RGBlastDoor_Jammed</texPath>
          <graphicClass>Graphic_Single</graphicClass>
        </jammed>

        <!-- Interaction / command UI -->
        <activeTicks>1</activeTicks>
        <!-- Slight chance it spawns already open -->
        <unlockedChance>0.15</unlockedChance>
        <ticksToActivate>3600</ticksToActivate> <!-- 1 in-game hour -->

        <activateTexPath>UI/Commands/ForceOpenDoor</activateTexPath>
        <activateLabelString>Force open...</activateLabelString>
        <activateDescString>Choose someone to force this door open.</activateDescString>
        <guiLabelString>Choose who should do this</guiLabelString>
        <jobString>Forcing open door</jobString>
        <activatingStringPending>forcing door open</activatingStringPending>
        <activatingString>forcing door open: {1}s</activatingString>
        <messageCompletedString>{PAWN_nameDef} has successfully forced the door open.</messageCompletedString>

        <!-- Only pick colonists -->
        <targetingParameters>
          <canTargetBuildings>false</canTargetBuildings>
          <canTargetAnimals>false</canTargetAnimals>
          <canTargetMechs>false</canTargetMechs>
          <onlyTargetControlledPawns>true</onlyTargetControlledPawns>
        </targetingParameters>
      </li>
    </comps>
  </ThingDef>

  <ThingDef ParentName="Rimgate_JammedDoorBase">
    <defName>Rimgate_SecretDoor</defName>
    <label>secret door</label>
    <description>A disguised, jammed panel cut to mimic the surrounding wall. Looks like solid rock until someone starts prying. Indestructible and airtight until forced open.</description>

    <!-- Allow stone tinting -->
    <stuffCategories Inherit="False">
      <li>Stony</li>
    </stuffCategories>
    <costStuffCount>25</costStuffCount>

    <!-- Outer “mover” shell -->
    <graphicData>
      <texPath>Things/Building/Structure/RGSecretDoorRock_Mover</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>

    <comps Inherit="False">
      <li Class="CompProperties_LabyrinthDoor">
        <!-- Jammed fill (also tinted by stuff) -->
        <jammed>
          <texPath>Things/Building/Structure/RGSecretDoorRock_Jammed</texPath>
          <graphicClass>Graphic_Single</graphicClass>
        </jammed>

        <!-- Interaction / command UI -->
        <activeTicks>1</activeTicks>
        <!-- Tighter: most are locked -->
        <unlockedChance>0.05</unlockedChance>
        <ticksToActivate>4800</ticksToActivate> <!-- a bit longer to pry a hidden slab -->

        <activateTexPath>UI/Commands/ForceOpenDoor</activateTexPath>
        <activateLabelString>Force open...</activateLabelString>
        <activateDescString>Choose someone to pry the panel loose.</activateDescString>
        <guiLabelString>Choose who should do this</guiLabelString>
        <jobString>Prying the hidden panel</jobString>
        <activatingStringPending>prying</activatingStringPending>
        <activatingString>prying: {1}s</activatingString>
        <messageCompletedString>{PAWN_nameDef} has revealed a hidden passage.</messageCompletedString>

        <!-- Only pick colonists -->
        <targetingParameters>
          <canTargetBuildings>false</canTargetBuildings>
          <canTargetAnimals>false</canTargetAnimals>
          <canTargetMechs>false</canTargetMechs>
          <onlyTargetControlledPawns>true</onlyTargetControlledPawns>
        </targetingParameters>
      </li>
    </comps>
  </ThingDef>

</Defs>