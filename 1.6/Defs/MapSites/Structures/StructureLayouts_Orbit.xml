<?xml version="1.0" encoding="UTF-8"?>
<Defs>

    <!-- Abandoned Platform -->

    <StructureLayoutDef ParentName="AbandonedPlatformBase">
        <defName>Rimgate_OrbitalAbandonedPlatform</defName>
        <exteriorDoorDef>Rimgate_ForceFieldDoor</exteriorDoorDef>
        <roomDefs>
            <Rimgate_OrbitalStoreroom_Loot>
                <countRange>1~2</countRange>
            </Rimgate_OrbitalStoreroom_Loot>
        </roomDefs>
    </StructureLayoutDef>

    <!-- Settlement Platform -->
    <StructureLayoutDef ParentName="OrbitalAncientPlatformBase">
        <defName>Rimgate_OrbitalSettlementPlatform</defName>

        <!-- Structure -->
        <clearDoorFaction>false</clearDoorFaction>
        <ensureOneDoorUnlocked>true</ensureOneDoorUnlocked>

        <wallAttachments>
            <LifeSupportUnit>
                <countRange>1~1</countRange>
            </LifeSupportUnit>
        </wallAttachments>
        <roomDefs>
            <!-- Special -->
            <Rimgate_OrbitalDwarfgate>
                <countRange>1</countRange>
            </Rimgate_OrbitalDwarfgate>
            <AncientCryptosleepRoom_Hostile>
                <countRange>1~2</countRange>
            </AncientCryptosleepRoom_Hostile>
            <RecRoom>
                <countRange>1</countRange>
            </RecRoom>
            <OrbitalNursery MayRequire="Ludeon.RimWorld.Biotech">
                <countRange>1</countRange>
            </OrbitalNursery>

            <!-- Decorative -->
            <OrbitalTransportRoom>1</OrbitalTransportRoom>
            <OrbitalHydroponics>1</OrbitalHydroponics>
            <OrbitalDiningRoom>1</OrbitalDiningRoom>
            <OrbitalBarracks>1</OrbitalBarracks>
            <NarrowHalls>1</NarrowHalls>

            <!-- Threats -->
            <OrbitalStoreroom>2</OrbitalStoreroom>
            <Rimgate_OrbitalStoreroom_Loot>
                <countRange>1~2</countRange>
            </Rimgate_OrbitalStoreroom_Loot>
            <OrbitalComputerRoom>1</OrbitalComputerRoom>

        </roomDefs>
    </StructureLayoutDef>

    <!-- Mechanoid Platform -->

    <StructureLayoutDef ParentName="OrbitalMechanoidPlatformBase">
        <defName>Rimgate_OrbitalMechanoidPlatform</defName>
        <exteriorDoorDef>Rimgate_ForceFieldDoor</exteriorDoorDef>

        <!-- Structure -->
        <importantRoomDef>MechanoidEngineRoom</importantRoomDef>

        <roomDefs>
            <!-- Special -->
            <MechChargingRoom>
                <countRange>1~2</countRange>
            </MechChargingRoom>
            <LaunchPad>
                <countRange>1~1</countRange>
            </LaunchPad>
            <Rimgate_MechLootRoom>
                <countRange>1~2</countRange>
            </Rimgate_MechLootRoom>
            <MechGravlitePanelRoom>
                <countRange>1~1</countRange>
            </MechGravlitePanelRoom>

            <!-- Decorative -->
            <NarrowHalls>2.75</NarrowHalls>
            <InnerCourtyard>0.5</InnerCourtyard>
            <InnerCourtyardRooms>0.75</InnerCourtyardRooms>
            <MechStorageRoom>0.5</MechStorageRoom>

            <!-- Threats -->
            <MechGloomlightRoom>1</MechGloomlightRoom>
            <MechGestationRoom>1</MechGestationRoom>
            <MechProcessorRoom>1</MechProcessorRoom>
        </roomDefs>
    </StructureLayoutDef>

    <!-- Orbital Wreck -->

    <StructureLayoutDef>
        <defName>Rimgate_OrbitalWreck</defName>

        <workerClass>LayoutWorker_AncientRuins</workerClass>
        <shouldDamage>true</shouldDamage>
        <canHaveMultipleLayoutsInRoom>true</canHaveMultipleLayoutsInRoom>
        <minRoomWidth>7</minRoomWidth>
        <minRoomHeight>8</minRoomHeight>

        <!-- Structure -->
        <wallDef>OrbitalAncientFortifiedWall</wallDef>
        <exteriorDoorDef>Rimgate_JammedBlastDoor</exteriorDoorDef>
        <roomToExteriorDoorRatio>0.05</roomToExteriorDoorRatio>
        <corridorDef>AncientRuinsShelfedCorridor</corridorDef>
        <doorStuffDef>Steel</doorStuffDef>

        <roomDefs>
            <!-- Decorative -->
            <OrbitalWreckRubble>0.5</OrbitalWreckRubble>
            <OrbitalRuinsStoreroom>1.5</OrbitalRuinsStoreroom>
            <OrbitalRuinsDestroyedFloor>1.75</OrbitalRuinsDestroyedFloor>
            <OrbitalRuinsShelves>2</OrbitalRuinsShelves>
            <OrbitalRuinsComputerRoom>0.2</OrbitalRuinsComputerRoom>
            <OrbitalTransportRoom>1</OrbitalTransportRoom>
            <AncientLivingArea>0.25</AncientLivingArea>

            <!-- Loot -->
            <OrbitalRuinsSteelRoom>0.5</OrbitalRuinsSteelRoom>
            <OrbitalRuinsAdvancedComponentRoom>0.5</OrbitalRuinsAdvancedComponentRoom>
            <OrbitalRuinsLootroom>0.15</OrbitalRuinsLootroom>
            <OrbitalRuinsHermeticCrate>
                <countRange>1~1</countRange>
            </OrbitalRuinsHermeticCrate>
        </roomDefs>

        <junkScaterrers>
            <RubblePile>
                <groupsPerHundredCells>1~3</groupsPerHundredCells>
                <itemsPerGroup>2~4</itemsPerGroup>
                <groupDistRange>3~5</groupDistRange>
            </RubblePile>
            <Filth_RubbleRock>
                <groupsPerHundredCells>1~3</groupsPerHundredCells>
                <itemsPerGroup>3~8</itemsPerGroup>
                <groupDistRange>3~5</groupDistRange>
            </Filth_RubbleRock>
        </junkScaterrers>
    </StructureLayoutDef>

    <!-- Satellite -->

    <StructureLayoutDef ParentName="OrbitalPlatformBase">
        <defName>Rimgate_OrbitalSatellite</defName>

        <!-- Structure -->
        <wallLampDef>AncientEmergencyLight_Red</wallLampDef>
        <exteriorDoorDef>Rimgate_ForceFieldDoor</exteriorDoorDef>

        <surroundingTerrainDef IsNull="True" />

        <roomDefs>
            <!-- Special -->
            <Rimgate_OrbitalDwarfgate>
                <countRange>1~1</countRange>
            </Rimgate_OrbitalDwarfgate>
            <Rimgate_AncientSatelliteLootRoom>
                <countRange>1~2</countRange>
            </Rimgate_AncientSatelliteLootRoom>
            <AncientSatelliteSecondaryLootRoom>
                <countRange>1~1</countRange>
            </AncientSatelliteSecondaryLootRoom>
            <AncientSatelliteVentRoom>
                <countRange>0~2</countRange>
            </AncientSatelliteVentRoom>

            <!-- Decorative -->
            <AncientSatelliteMachineRoom>1</AncientSatelliteMachineRoom>
            <InnerCourtyard>0.3</InnerCourtyard>

            <!-- Threats -->
            <AncientSatelliteSystemRoom>0.75</AncientSatelliteSystemRoom>
            <AncientSatelliteEquipmentBlockRoom>0.75</AncientSatelliteEquipmentBlockRoom>
        </roomDefs>

        <junkScaterrers>
            <ChunkSlagSteel>
                <groupsPerHundredCells>-2~1</groupsPerHundredCells><!-- ~66% to not appear -->
                <itemsPerGroup>1~1</itemsPerGroup>
            </ChunkSlagSteel>
            <Filth_MachineBits>
                <groupsPerHundredCells>0~3</groupsPerHundredCells>
                <itemsPerGroup>2~4</itemsPerGroup>
                <groupDistRange>2~4</groupDistRange>
            </Filth_MachineBits>
            <Filth_OilSmear>
                <groupsPerHundredCells>0~3</groupsPerHundredCells>
                <itemsPerGroup>2~4</itemsPerGroup>
                <groupDistRange>3~5</groupDistRange>
            </Filth_OilSmear>
            <RubblePile>
                <groupsPerHundredCells>1~2</groupsPerHundredCells>
                <itemsPerGroup>2~4</itemsPerGroup>
                <groupDistRange>5~6</groupDistRange>
            </RubblePile>
        </junkScaterrers>
    </StructureLayoutDef>

    <!-- Asteroid Item Stash -->

    <StructureLayoutDef>
        <defName>Rimgate_OrbitalItemStash</defName>
        <workerClass>LayoutWorker_AncientStockpile</workerClass>
        <canHaveMultipleLayoutsInRoom>true</canHaveMultipleLayoutsInRoom>
        <clearRoomsEntirely>true</clearRoomsEntirely>
        <minRoomWidth>8</minRoomWidth>
        <minRoomHeight>8</minRoomHeight>

        <!-- Structure -->
        <exteriorDoorDef>AncientBlastDoor</exteriorDoorDef>
        <doorStuffDef>Steel</doorStuffDef>
        <wallDef>AncientFortifiedWall</wallDef>
        <wallLampDef>AncientEmergencyLight_Blue</wallLampDef>

        <roomDefs>
            <Rimgate_OrbitalDwarfgate>
                <countRange>1</countRange>
            </Rimgate_OrbitalDwarfgate>
            <!-- Special -->
            <OrbitalItemStash_ItemRoom>
                <countRange>1</countRange>
            </OrbitalItemStash_ItemRoom>
            <Rimgate_OrbitalStoreroom_Loot>
                <countRange>1</countRange>
            </Rimgate_OrbitalStoreroom_Loot>

            <!-- Decorative -->
            <AncientLivingArea>0.5</AncientLivingArea>
            <AncientRuinsBarracks>0.75</AncientRuinsBarracks>
            <InnerCourtyardRooms>
                <countRange>0~1</countRange>
            </InnerCourtyardRooms>
            <OrbitalTransportRoom>0.5</OrbitalTransportRoom>

            <!-- Threats -->
            <AncientRuinsShelfWithLootRoom>
                <countRange>0~1</countRange>
            </AncientRuinsShelfWithLootRoom>
            <AncientComputerRoom>
                <countRange>0~2</countRange>
            </AncientComputerRoom>
            <AncientStockpileSecurityRoom>0.25</AncientStockpileSecurityRoom>
        </roomDefs>
        <junkScaterrers>
            <Filth_Trash>
                <groupsPerHundredCells>0~3</groupsPerHundredCells>
                <itemsPerGroup>2~4</itemsPerGroup>
                <groupDistRange>3~5</groupDistRange>
            </Filth_Trash>
            <Filth_BlastMark>
                <groupsPerHundredCells>-2~1</groupsPerHundredCells> <!-- ~66% to not appear -->
                <itemsPerGroup>1~1</itemsPerGroup>
            </Filth_BlastMark>
            <Filth_MachineBits>
                <groupsPerHundredCells>-1~1</groupsPerHundredCells> <!-- ~50% to not appear -->
                <itemsPerGroup>2~4</itemsPerGroup>
                <groupDistRange>2~4</groupDistRange>
            </Filth_MachineBits>
            <RubblePile>
                <groupsPerHundredCells>2~4</groupsPerHundredCells>
                <itemsPerGroup>2~4</itemsPerGroup>
                <groupDistRange>3~5</groupDistRange>
                <minGroups>1</minGroups>
            </RubblePile>
            <Filth_RubbleRock>
                <groupsPerHundredCells>2~4</groupsPerHundredCells>
                <itemsPerGroup>3~8</itemsPerGroup>
                <groupDistRange>3~5</groupDistRange>
                <minGroups>1</minGroups>
            </Filth_RubbleRock>
        </junkScaterrers>
        <parts>
            <Breached>0.1</Breached>
            <Gore>0.2</Gore>
        </parts>
    </StructureLayoutDef>

    <!-- Orbital Barren Gate -->

    <KCSG.StructureLayoutDef>
        <defName>Rimgate_StructureOrbitalGate</defName>
        <terrainGrid>

            <li>AncientTile,AncientTile,AncientTile,AncientTile,AncientTile,AncientTile,AncientTile</li>
            <li>AncientTile,AncientTile,AncientTile,AncientTile,AncientTile,AncientTile,AncientTile</li>
            <li>AncientTile,AncientTile,AncientTile,AncientTile,AncientTile,AncientTile,AncientTile</li>
            <li>AncientTile,AncientTile,AncientTile,AncientTile,AncientTile,AncientTile,AncientTile</li>
            <li>AncientTile,AncientTile,AncientTile,AncientTile,AncientTile,AncientTile,AncientTile</li>
            <li>AncientTile,AncientTile,AncientTile,AncientTile,AncientTile,AncientTile,AncientTile</li>
            <li>AncientTile,AncientTile,AncientTile,AncientTile,AncientTile,AncientTile,AncientTile</li>
            <li>AncientTile,AncientTile,AncientTile,AncientTile,AncientTile,AncientTile,AncientTile</li>
        </terrainGrid>
        <underGrid>
            <li>OrbitalPlatform,OrbitalPlatform,OrbitalPlatform,OrbitalPlatform,OrbitalPlatform,OrbitalPlatform,OrbitalPlatform</li>
            <li>OrbitalPlatform,OrbitalPlatform,OrbitalPlatform,OrbitalPlatform,OrbitalPlatform,OrbitalPlatform,OrbitalPlatform</li>
            <li>OrbitalPlatform,OrbitalPlatform,OrbitalPlatform,OrbitalPlatform,OrbitalPlatform,OrbitalPlatform,OrbitalPlatform</li>
            <li>OrbitalPlatform,OrbitalPlatform,OrbitalPlatform,OrbitalPlatform,OrbitalPlatform,OrbitalPlatform,OrbitalPlatform</li>
            <li>OrbitalPlatform,OrbitalPlatform,OrbitalPlatform,OrbitalPlatform,OrbitalPlatform,OrbitalPlatform,OrbitalPlatform</li>
            <li>OrbitalPlatform,OrbitalPlatform,OrbitalPlatform,OrbitalPlatform,OrbitalPlatform,OrbitalPlatform,OrbitalPlatform</li>
            <li>OrbitalPlatform,OrbitalPlatform,OrbitalPlatform,OrbitalPlatform,OrbitalPlatform,OrbitalPlatform,OrbitalPlatform</li>
            <li>OrbitalPlatform,OrbitalPlatform,OrbitalPlatform,OrbitalPlatform,OrbitalPlatform,OrbitalPlatform,OrbitalPlatform</li>
        </underGrid>
        <layouts>
            <li>
                <li>.,.,.,.,.,.,.</li>
                <li>OrbitalAncientFortifiedWall,OrbitalAncientFortifiedWall,OrbitalAncientFortifiedWall,Rimgate_ForceFieldDoor,OrbitalAncientFortifiedWall,OrbitalAncientFortifiedWall,OrbitalAncientFortifiedWall</li>
                <li>OrbitalAncientFortifiedWall,.,.,.,.,.,OrbitalAncientFortifiedWall</li>
                <li>OrbitalAncientFortifiedWall,Rimgate_DialHomeDevice,.,.,.,.,OrbitalAncientFortifiedWall</li>
                <li>OrbitalAncientFortifiedWall,.,.,.,.,.,OrbitalAncientFortifiedWall</li>
                <li>OrbitalAncientFortifiedWall,.,.,Rimgate_Dwarfgate,.,.,OrbitalAncientFortifiedWall</li>
                <li>OrbitalAncientFortifiedWall,.,.,.,.,.,OrbitalAncientFortifiedWall</li>
                <li>OrbitalAncientFortifiedWall,OrbitalAncientFortifiedWall,OrbitalAncientFortifiedWall,OrbitalAncientFortifiedWall,OrbitalAncientFortifiedWall,OrbitalAncientFortifiedWall,OrbitalAncientFortifiedWall</li>
            </li>
        </layouts>
        <roofGrid>
            <li>1,1,1,1,1,1,1</li>
            <li>1,1,1,1,1,1,1</li>
            <li>1,1,1,1,1,1,1</li>
            <li>1,1,1,1,1,1,1</li>
            <li>1,1,1,1,1,1,1</li>
            <li>1,1,1,1,1,1,1</li>
            <li>1,1,1,1,1,1,1</li>
            <li>1,1,1,1,1,1,1</li>
        </roofGrid>
        <needRoofClearance>true</needRoofClearance>
        <spawnConduits>false</spawnConduits>
    </KCSG.StructureLayoutDef>

</Defs>