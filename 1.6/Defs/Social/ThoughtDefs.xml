<?xml version="1.0" encoding="UTF-8"?>
<Defs>

    <!-- =============== Sarcophagus =============== -->

    <ThoughtDef>
        <defName>Rimgate_SarcophagusHigh</defName>
        <workerClass>ThoughtWorker_Hediff</workerClass>
        <hediff>Rimgate_SarcophagusHigh</hediff>
        <validWhileDespawned>true</validWhileDespawned>
        <developmentalStageFilter>Baby, Child, Adult</developmentalStageFilter>
        <stages>
            <li>
                <label>high on life</label>
                <description>I'm feeling like a brand new me! Let's do this!</description>
                <baseMoodEffect>35</baseMoodEffect>
            </li>
        </stages>
    </ThoughtDef>

    <ThoughtDef>
        <defName>Rimgate_SarcophagusWithdrawal</defName>
        <workerClass>ThoughtWorker_Hediff</workerClass>
        <hediff>Rimgate_SarcophagusAddiction</hediff>
        <validWhileDespawned>true</validWhileDespawned>
        <developmentalStageFilter>Baby, Child, Adult</developmentalStageFilter>
        <stages>
            <li>
                <visible>false</visible>
            </li>
            <li>
                <label>sarcophagus withdrawal</label>
                <description>I'm feeling delusional and forgetful...I bet a Sarcophagus would fix this.</description>
                <baseMoodEffect>-22</baseMoodEffect>
            </li>
        </stages>
    </ThoughtDef>

    <!-- =============== Symbiote =============== -->

    <ThoughtDef>
        <defName>Rimgate_SymbioteImplant</defName>
        <workerClass>ThoughtWorker_Hediff</workerClass>
        <hediff>Rimgate_SymbioteWithdrawal</hediff>
        <validWhileDespawned>true</validWhileDespawned>
        <durationDays>-1</durationDays>
        <stackLimit>1</stackLimit>
        <stages>
            <li>
                <label>god-complex</label>
                <description>Your symbiote feeds you power… and delusions of grandeur. Mortals around you should kneel.</description>
                <baseMoodEffect>-3</baseMoodEffect>
            </li>
        </stages>
    </ThoughtDef>

    <ThoughtDef>
        <defName>Rimgate_SymbioteWithdrawalThought</defName>
        <workerClass>ThoughtWorker_Hediff</workerClass>
        <hediff>Rimgate_SymbioteWithdrawal</hediff>
        <validWhileDespawned>true</validWhileDespawned>
        <developmentalStageFilter>Baby, Child, Adult</developmentalStageFilter>
        <stages>
            <li>
                <label>symbiote withdrawal</label>
                <description>You’ve lost a part of yourself—literally. The voice is gone, the strength is fading, and your eyes won't glow anymore. Feels bad, kree.</description>
                <baseMoodEffect>-11</baseMoodEffect>
            </li>
        </stages>
    </ThoughtDef>

    <!-- Non-hosts dislike the arrogance of hosts -->
    <ThoughtDef>
        <defName>Rimgate_Opinion_SymbioteHostility</defName>
        <thoughtClass>Thought_SituationalSocial</thoughtClass>
        <workerClass>Rimgate.ThoughtWorker_Opinion_SymbioteHostility</workerClass>
        <durationDays>-1</durationDays>
        <stackLimit>1</stackLimit>
        <validWhileDespawned>true</validWhileDespawned>
        <nullifyingTraits>
            <li>Psychopath</li>
            <li>Masochist</li>
            <li>Kind</li>
            <li>Bloodlust</li>
            <li MayRequire="Ludeon.RimWorld.Biotech">Recluse</li>
        </nullifyingTraits>
        <stages>
            <li>
                <label>bearing a symbiote</label>
                <description>This pawn regards the host as unsettling and overbearing—part person, part parasite.</description>
                <baseOpinionOffset>-8</baseOpinionOffset>
            </li>
        </stages>
    </ThoughtDef>

    <!-- Hosts feel a mild kinship with other hosts -->
    <ThoughtDef>
        <defName>Rimgate_Opinion_SymbioteKinship</defName>
        <thoughtClass>Thought_SituationalSocial</thoughtClass>
        <workerClass>Rimgate.ThoughtWorker_Opinion_SymbioteKinship</workerClass>
        <durationDays>-1</durationDays>
        <stackLimit>1</stackLimit>
        <validWhileDespawned>true</validWhileDespawned>
        <nullifyingTraits>
            <li MayRequire="Ludeon.RimWorld.Biotech">Recluse</li>
        </nullifyingTraits>
        <stages>
            <li>
                <label>shared power</label>
                <description>Another bearer of the symbiote. Power recognizes power.</description>
                <baseOpinionOffset>5</baseOpinionOffset>
            </li>
        </stages>
    </ThoughtDef>

    <!-- Mild, situational debuff for hosts with a pouch but no symbiote -->
    <ThoughtDef>
        <defName>Rimgate_PouchFeelsEmpty</defName>
        <thoughtClass>Thought_Situational</thoughtClass>
        <workerClass>Rimgate.ThoughtWorker_SymbiotePouchEmpty</workerClass>
        <validWhileDespawned>true</validWhileDespawned>
        <developmentalStageFilter>Child, Adult</developmentalStageFilter>
        <stackLimit>1</stackLimit>
        <nullifyingTraits>
            <li>Psychopath</li>
            <li>Ascetic</li>
        </nullifyingTraits>
        <stages>
            <li>
                <label>pouch aches</label>
                <description>The engineered chamber in their abdomen feels hollow and restless without a resident symbiote.</description>
                <baseMoodEffect>-3</baseMoodEffect>
            </li>
        </stages>
    </ThoughtDef>

    <!-- =============== Wraith Hive =============== -->

    <ThoughtDef>
        <defName>Rimgate_HiveChat</defName>
        <thoughtClass>Thought_MemorySocialCumulative</thoughtClass>
        <stackLimit>300</stackLimit>
        <maxCumulatedOpinionOffset>10</maxCumulatedOpinionOffset>
        <developmentalStageFilter>Baby, Child, Adult</developmentalStageFilter>
        <socialTargetDevelopmentalStageFilter>Baby, Child, Adult</socialTargetDevelopmentalStageFilter>
        <nullifyingTraits>
            <li>Psychopath</li>
        </nullifyingTraits>
        <nullifyingHediffs>
            <li MayRequire="Ludeon.RimWorld.Anomaly">Inhumanized</li>
        </nullifyingHediffs>
        <stages>
            <li>
                <label>shared the hum</label>
                <baseOpinionOffset>0.44</baseOpinionOffset>
            </li>
        </stages>
    </ThoughtDef>

    <ThoughtDef>
        <defName>Rimgate_WraithEssenceCraving</defName>
        <thoughtClass>Thought_Situational</thoughtClass>
        <workerClass>Rimgate.ThoughtWorker_WraithEssenceCraving</workerClass>
        <validWhileDespawned>true</validWhileDespawned>
        <stages>
            <li>
                <label>essence cravings</label>
                <description>The hum beneath the skin is fading. Instinct gnaws, urging the hunt—someone here must have what I need.</description>
                <baseMoodEffect>-8</baseMoodEffect>
            </li>
        </stages>
    </ThoughtDef>

    <!-- =============== ARCHOTECH IDOL OF RESONANCE =============== -->

    <!-- General calm: refreshable small memory so it sticks while in range -->
    <ThoughtDef>
        <defName>Rimgate_ResonanceCalm</defName>
        <thoughtClass>Thought_Memory</thoughtClass>
        <durationDays>0.1</durationDays> <!-- ~25 sec; comp keeps refreshing -->
        <stackLimit>1</stackLimit>
        <validWhileDespawned>false</validWhileDespawned>
        <stages>
            <li>
                <label>calmed by resonance</label>
                <description>The idol’s harmonic field eases the mind and steadies the hands.</description>
                <baseMoodEffect>8</baseMoodEffect>
            </li>
        </stages>
    </ThoughtDef>

    <!-- Wraith variant: identical magnitude, different flavor -->
    <ThoughtDef>
        <defName>Rimgate_ResonanceWraithSatiation</defName>
        <thoughtClass>Thought_Memory</thoughtClass>
        <durationDays>0.1</durationDays>
        <stackLimit>1</stackLimit>
        <validWhileDespawned>false</validWhileDespawned>
        <stages>
            <li>
                <label>hunger quieted by resonance</label>
                <description>The idol’s pulse dampens the endless gnawing hunger, if only for a while.</description>
                <baseMoodEffect>8</baseMoodEffect>
            </li>
        </stages>
    </ThoughtDef>

    <!-- Occasional spooky downside -->
    <ThoughtDef>
        <defName>Rimgate_ResonanceStaticVoices</defName>
        <thoughtClass>Thought_Memory</thoughtClass>
        <durationDays>0.5</durationDays>
        <stackLimit>1</stackLimit>
        <validWhileDespawned>false</validWhileDespawned>
        <stages>
            <li>
                <label>voices in the static</label>
                <description>There’s something in the harmonics—shapes in the white-noise, like a whisper behind the skull.</description>
                <baseMoodEffect>-3</baseMoodEffect>
            </li>
        </stages>
    </ThoughtDef>

</Defs>