<?xml version="1.0" encoding="UTF-8"?>
<Defs>

	<!-- ==================== Symbiote Withdrawal ==================== -->

	<HediffDef>
		<defName>Rimgate_SymbioteWithdrawal</defName>
		<label>symbiote withdrawal</label>
		<description>With the symbiote removed, the host's body begins to crash—systems falter, strength fades, and paranoia skyrockets. Symptoms include fatigue, tremors, organ failure, rapid aging, and regretting life choices involving glowing eyes.\n\nWithout an artificial replacement like tretonin—or another symbiote—this condition is usually terminal.</description>
		<descriptionHyperlinks>
			<ThingDef>Rimgate_Tretonin</ThingDef>
		</descriptionHyperlinks>
		<hediffClass>HediffWithComps</hediffClass>
		<chronic>true</chronic>
		<minSeverity>0.001</minSeverity>
		<initialSeverity>0.01</initialSeverity>
		<lethalSeverity>1</lethalSeverity>
		<everCurableByItem>false</everCurableByItem>
		<tendable>true</tendable>
		<comps>
			<li Class="HediffCompProperties_Immunizable">
				<severityPerDayNotImmune>0.25</severityPerDayNotImmune>
			</li>
			<li Class="HediffCompProperties_TendDuration">
				<severityPerDayTended>-0.8</severityPerDayTended>
				<baseTendDurationHours>23</baseTendDurationHours>
			</li>
		</comps>
		<stages>
			<li>
				<label>minor</label>
				<forgetMemoryThoughtMtbDays>7</forgetMemoryThoughtMtbDays>
				<statFactors>
					<RestFallRateFactor>2</RestFallRateFactor>
					<ImmunityGainSpeed>0</ImmunityGainSpeed>
					<InjuryHealingFactor>0</InjuryHealingFactor>
				</statFactors>
				<capMods>
					<li>
						<capacity>Consciousness</capacity>
						<offset>-0.1</offset>
					</li>
					<li>
						<capacity>BloodFiltration</capacity>
						<offset>-0.1</offset>
					</li>
				</capMods>
			</li>
			<li>
				<label>extreme</label>
				<minSeverity>0.5</minSeverity>
				<lifeThreatening>true</lifeThreatening>
				<deathMtbDays>15</deathMtbDays>
				<painOffset>0.5</painOffset>
				<partEfficiencyOffset>-0.3</partEfficiencyOffset>
				<statFactors>
					<RestFallRateFactor>5</RestFallRateFactor>
					<ImmunityGainSpeed>0</ImmunityGainSpeed>
					<InjuryHealingFactor>0</InjuryHealingFactor>
				</statFactors>
				<capMods>
					<li>
						<capacity>Consciousness</capacity>
						<offset>-0.2</offset>
					</li>
					<li>
						<capacity>BloodFiltration</capacity>
						<offset>-0.30</offset>
					</li>
					<li>
						<capacity>BloodPumping</capacity>
						<offset>-0.15</offset>
					</li>
					<li>
						<capacity>Metabolism</capacity>
						<offset>-0.20</offset>
					</li>
					<li>
						<capacity>Breathing</capacity>
						<offset>-0.10</offset>
					</li>
				</capMods>
			</li>
		</stages>
		<duplicationAllowed>false</duplicationAllowed>
		<allowMothballIfLowPriorityWorldPawn>true</allowMothballIfLowPriorityWorldPawn>
	</HediffDef>

    <!-- =============== Clones =============== -->

    <HediffDef>
        <defName>Hediff_ClonedTracker</defName>
        <label>clone tracker (hidden)</label>
        <description>This hediff stores tracking data to determine how many times this pawn has been cloned.</description>
        <hediffClass>Rimgate.Hediff_ClonedTracker</hediffClass>
        <defaultLabelColor>(0.65, 0.3, 0.9)</defaultLabelColor>
        <isBad>false</isBad>
        <duplicationAllowed>false</duplicationAllowed>
        <allowMothballIfLowPriorityWorldPawn>true</allowMothballIfLowPriorityWorldPawn>
    </HediffDef>

    <HediffDef>
        <defName>Rimgate_Clone</defName>
        <label>clone (hidden)</label>
        <description>Another happy accident of mad science. Don't worry — they only think they’re the original.</description>
        <hediffClass>Rimgate.Hediff_Clone</hediffClass>
        <defaultLabelColor>(0.65, 0.3, 0.9)</defaultLabelColor>
        <isBad>false</isBad>
        <duplicationAllowed>false</duplicationAllowed>
        <allowMothballIfLowPriorityWorldPawn>true</allowMothballIfLowPriorityWorldPawn>
    </HediffDef>

    <HediffDef>
        <defName>Rimgate_CloneRandom</defName>
        <label>clone (hidden)</label>
        <description>Another happy accident of mad science. Don't worry — they only think they’re the original.</description>
        <hediffClass>Rimgate.Hediff_Clone</hediffClass>
        <defaultLabelColor>(0.65, 0.3, 0.9)</defaultLabelColor>
        <isBad>false</isBad>
        <comps>
            <li>
                <compClass>Rimgate.HediffComp_RandomCloneGeneration</compClass>
            </li>
        </comps>
        <duplicationAllowed>false</duplicationAllowed>
        <allowMothballIfLowPriorityWorldPawn>true</allowMothballIfLowPriorityWorldPawn>
    </HediffDef>

    <!-- =============== Mobile Container debuffs =============== -->

    <HediffDef>
        <defName>Rimgate_PushingCart</defName>
        <label>pushing a cart</label>
        <description>The strain of pushing a loaded cart reduces movement speed.</description>
        <hediffClass>Hediff</hediffClass>
        <tendable>false</tendable>
        <stages>
            <!-- light -->
            <li>
                <minSeverity>0.1</minSeverity>
                <statFactors>
                    <MoveSpeed>0.98</MoveSpeed>
                </statFactors>
            </li>
            <li>
                <minSeverity>0.5</minSeverity>
                <statFactors>
                    <MoveSpeed>0.92</MoveSpeed>
                </statFactors>
            </li>
            <!-- heavy -->
            <li>
                <minSeverity>0.8</minSeverity>
                <statFactors>
                    <MoveSpeed>0.85</MoveSpeed>
                </statFactors>
            </li>
        </stages>
        <allowMothballIfLowPriorityWorldPawn>true</allowMothballIfLowPriorityWorldPawn>
    </HediffDef>

    <!-- =============== ARCHOTECH IDOL OF RESONANCE =============== -->

    <!-- Hidden short-duration buffs the comp refreshes -->

    <HediffDef>
        <defName>Rimgate_ResonanceFieldBuff</defName>
        <label>resonance field</label>
        <description>The idol’s harmonic field eases the mind and steadies the hands.</description>
        <hediffClass>HediffWithComps</hediffClass>
        <isBad>false</isBad>
        <tendable>false</tendable>
        <initialSeverity>0.1</initialSeverity>
        <comps>
            <li Class="HediffCompProperties_Disappears">
                <disappearsAfterTicks>1200</disappearsAfterTicks>
                <showRemainingTime>false</showRemainingTime>
            </li>
        </comps>
        <stages>
            <li>
                <becomeVisible>false</becomeVisible> <!-- Keep it invisible to players -->
                <statOffsets>
                    <MoveSpeed>0.05</MoveSpeed>  <!-- +5% -->
                    <MentalBreakThreshold>-0.10</MentalBreakThreshold> <!-- 10% easier to avoid breaks -->
                    <PsychicSensitivity>0.05</PsychicSensitivity>
                </statOffsets>
            </li>
        </stages>
        <allowMothballIfLowPriorityWorldPawn>true</allowMothballIfLowPriorityWorldPawn>
    </HediffDef>

    <HediffDef>
        <defName>Rimgate_ResonanceHostBoost</defName>
        <label>resonance attunement</label>
        <description>The idol’s harmonic field eases the mind of your symbiote.</description>
        <hediffClass>HediffWithComps</hediffClass>
        <isBad>false</isBad>
        <tendable>false</tendable>
        <initialSeverity>0.1</initialSeverity>
        <comps>
            <li Class="HediffCompProperties_Disappears">
                <disappearsAfterTicks>1200</disappearsAfterTicks>
                <showRemainingTime>false</showRemainingTime>
            </li>
        </comps>
        <stages>
            <li>
                <becomeVisible>false</becomeVisible> <!-- Keep it invisible to players -->
                <capMods>
                    <li>
                        <capacity>Consciousness</capacity>
                        <offset>0.10</offset> <!-- Goa'uld host synergy -->
                    </li>
                </capMods>
            </li>
        </stages>
        <allowMothballIfLowPriorityWorldPawn>true</allowMothballIfLowPriorityWorldPawn>
    </HediffDef>

    <!-- =============== Unrecruitable =============== -->

    <HediffDef>
        <defName>Rimgate_Unrecruitable</defName>
        <label>unwavering loyalty</label>
        <description>This pawn’s conditioning prevents defection or recruitment by any means.</description>
        <hediffClass>HediffWithComps</hediffClass>
        <isBad>false</isBad>
        <tendable>false</tendable>
        <stages>
            <li>
                <becomeVisible>false</becomeVisible> <!-- Keep it invisible to players -->
                <statOffsets>
                    <MentalBreakThreshold>-0.04</MentalBreakThreshold>
                </statOffsets>
            </li>
        </stages>
        <comps>
            <li>
                <compClass>Rimgate.HediffComp_Unrecruitable</compClass>
            </li>
        </comps>
        <duplicationAllowed>false</duplicationAllowed>
        <allowMothballIfLowPriorityWorldPawn>true</allowMothballIfLowPriorityWorldPawn>
    </HediffDef>

    <!-- =============== Regenerating Tissue =============== -->

    <HediffDef>
        <defName>Rimgate_RegeneratingTissue</defName>
        <hediffClass>HediffWithComps</hediffClass>
        <label>regenerating</label>
        <labelNoun>regenerating tissue</labelNoun>
        <defaultLabelColor>(220,200,180)</defaultLabelColor>
        <description>Fresh regrown tissue. It works, but is fragile and painful while it stabilizes.</description>

        <isBad>false</isBad>
        <tendable>false</tendable>
        <everCurableByItem>false</everCurableByItem>
        <makesSickThought>false</makesSickThought>

        <minSeverity>0</minSeverity>
        <maxSeverity>99</maxSeverity>

        <stages>
            <li>
                <!-- light, temporary penalties; tune as desired -->
                <painOffset>0.02</painOffset>
                <statFactors>
                    <MoveSpeed>0.95</MoveSpeed>
                    <WorkSpeedGlobal>0.95</WorkSpeedGlobal>
                </statFactors>
            </li>
        </stages>

        <allowMothballIfLowPriorityWorldPawn>true</allowMothballIfLowPriorityWorldPawn>

        <comps>
            <li Class="HediffCompProperties_SeverityPerDay">
                <severityPerDay>-8</severityPerDay>
                <showDaysToRecover>true</showDaysToRecover>
            </li>
        </comps>
    </HediffDef>

    <!-- ==================== Una Biosignature ==================== -->

    <HediffDef>
        <defName>Rimgate_UnasBiosignature</defName>
        <hediffClass>HediffWithComps</hediffClass>
        <label>Unas biosignature (hidden)</label>
        <description>A unique biosignature implant characteristic of the Unas species, allowing for specialized tracking and identification.</description>

        <isBad>false</isBad>
        <everCurableByItem>false</everCurableByItem>

        <stages>
            <li>
                <becomeVisible>false</becomeVisible>
            </li>
        </stages>

        <comps>
            <li Class="Rimgate.HediffCompProperties_SurgeryInspectionBiosignature">
                <biosignatureThingDef>Rimgate_UnasBiosignature</biosignatureThingDef>
                <preventLetterIfPreviouslyDetected>true</preventLetterIfPreviouslyDetected>
            </li>
        </comps>
    </HediffDef>

</Defs>