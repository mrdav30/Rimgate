<?xml version="1.0" encoding="UTF-8"?>
<Defs>

    <!-- Wraith Drain -->

    <HediffDef>
        <defName>Rimgate_WraithLifeDrainTarget</defName>
        <label>life drained</label>
        <description>The telltale weakness of being fed on by a Wraith.\nVictims experience fatigue, tremors, and a general sense of “please don’t do that again.”</description>
        <!-- <hediffClass>Hediff_Injury</hediffClass> -->
        <hediffClass>HediffWithComps</hediffClass>
        <tendable>false</tendable>
        <isBad>true</isBad>
        <comps>
            <li Class="HediffCompProperties_SeverityPerDay">
                <severityPerDay>-0.10</severityPerDay> <!-- Passive health drain -->
            </li>
            <li Class="HediffCompProperties_Disappears">
                <disappearsAfterTicks>120000</disappearsAfterTicks> <!-- 2 days -->
                <showRemainingTime>true</showRemainingTime>
            </li>
        </comps>
        <stages>
            <li>
                <restFallFactor>5</restFallFactor>
                <naturalHealingFactor>0.65</naturalHealingFactor>
                <capMods>
                    <li>
                        <capacity>Moving</capacity>
                        <postFactor>0.8</postFactor>
                    </li>
                    <li>
                        <capacity>Consciousness</capacity>
                        <setMax>0.70</setMax>
                    </li>
                </capMods>
            </li>
        </stages>
    </HediffDef>

    <HediffDef>
        <defName>Rimgate_WraithLifeDrainRegen</defName>
        <label>life-empowered</label>
        <description>Vitality stolen from another being surges through this pawn, enhancing reflexes and healing rate.\nNot RDA-approved. But effective.</description>
        <hediffClass>HediffWithComps</hediffClass>
        <tendable>false</tendable>
        <isBad>false</isBad>
        <comps>
            <li Class="HediffCompProperties_Disappears">
                <disappearsAfterTicks>120000</disappearsAfterTicks> <!-- 200 secs -->
                <showRemainingTime>true</showRemainingTime>
            </li>
        </comps>
        <stages>
            <li>
                <restFallFactor>0.5</restFallFactor>
                <naturalHealingFactor>1.2</naturalHealingFactor>
                <hungerRateFactorOffset>2.4</hungerRateFactorOffset>
                <capMods>
                    <li>
                        <capacity>Moving</capacity>
                        <postFactor>1.2</postFactor>
                    </li>
                    <li>
                        <capacity>Consciousness</capacity>
                        <postFactor>1.3</postFactor>
                    </li>
                </capMods>
            </li>
        </stages>
    </HediffDef>

    <!-- Psylink on Spawn -->

    <HediffDef>
        <defName>Rimgate_InitPsylink</defName>
        <label>psionic attunement</label>
        <description>This hediff adds psylink levels to a pawn then removes itself.</description>
        <scenarioCanAdd>false</scenarioCanAdd>
        <isBad>false</isBad>
        <tendable>false</tendable>
        <initialSeverity>0.1</initialSeverity>
        <hediffClass>HediffWithComps</hediffClass>
        <comps>
            <li Class="Rimgate.HediffCompProperties_GivePsylinkOnAdded">
                <!-- tuning per pawnkind -->
                <minLevel>2</minLevel>
                <maxLevel>4</maxLevel>
                <extraPsycasts>1~3</extraPsycasts>
                <!-- Optional filter so only “control/disruption” flavored casts are picked -->
                <!-- You may also create your own tag strings and add them to AbilityDefs -->
                <!-- <abilityTags>
                    <li>Calm</li>
                    <li>Shock</li>
                    <li>Vertigo</li>
                    <li>Chaos</li>
                </abilityTags> -->
            </li>
        </comps>
        <!-- Keep it invisible to players -->
        <stages>
            <li>
                <label>attuning</label>
                <minSeverity>0</minSeverity>
                <becomeVisible>false</becomeVisible>
                <capMods />
            </li>
        </stages>
        <duplicationAllowed>false</duplicationAllowed>
        <allowMothballIfLowPriorityWorldPawn>true</allowMothballIfLowPriorityWorldPawn>
    </HediffDef>

</Defs>