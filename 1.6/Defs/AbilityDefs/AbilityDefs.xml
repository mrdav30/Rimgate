<?xml version="1.0" encoding="utf-8"?>
<Defs>

    <!-- Wraith Life Drain -->

    <AbilityDef>
        <defName>Rimgate_WraithLifeDrainAbility</defName>
        <label>drain life</label>
        <description>Embrace your inner Wraith.\nDrains the life force from a nearby pawn, stealing their regeneration, speed, and brainpower for 24 glorious hours. Hostile? Absolutely. Morally questionable? Also yes. Delicious? Very.</description>
        <iconPath>UI/Icon/Ability/RGWraithDrainLifeIcon</iconPath>
        <verbProperties>
            <verbClass>Verb_CastAbilityTouch</verbClass>
            <drawAimPie>false</drawAimPie>
            <range>-1</range>
            <warmupTime>0.25</warmupTime>
            <soundCast>Rimgate_WraitDrainLifeCast</soundCast>
            <targetParams>
                <canTargetPawns>true</canTargetPawns>
                <canTargetLocations>false</canTargetLocations>
                <canTargetAnimals>false</canTargetAnimals>
                <canTargetSelf>false</canTargetSelf>
                <canTargetBuildings>false</canTargetBuildings>
                <canTargetMechs>false</canTargetMechs>
            </targetParams>
        </verbProperties>
        <cooldownTicksRange>120000</cooldownTicksRange>
        <jobDef>CastAbilityOnThingMelee</jobDef>
        <aiCanUse>true</aiCanUse>
        <hostile>true</hostile>
        <sendMessageOnCooldownComplete>true</sendMessageOnCooldownComplete>
        <displayGizmoWhileUndrafted>True</displayGizmoWhileUndrafted>
        <disableGizmoWhileUndrafted>false</disableGizmoWhileUndrafted>
        <comps>
            <li Class="Rimgate.CompProperties_ApplyHediff">
                <hediffToReceive>Rimgate_WraithLifeDrainRegen</hediffToReceive>
                <hediffToGive>Rimgate_WraithLifeDrainTarget</hediffToGive>
                <durationTime>120000</durationTime>
                <rangeLimit>6.0</rangeLimit>
            </li>
            <li Class="Rimgate.CompProperties_ApplyNeed">
                <need>Food</need>
                <levelRange>0.5~1</levelRange>
            </li>
            <li Class="CompProperties_AbilityFleckOnTarget">
                <fleckDef>PsycastPsychicEffect</fleckDef>
            </li>
        </comps>
    </AbilityDef>

    <!-- Wraith Cocoon Trap -->

    <AbilityDef>
        <defName>Rimgate_WraithCocoonTrapAbility</defName>
        <label>cocoon trap</label>
        <description>Why kill your food when you can save it for later?\nLaunches sticky webs that wrap your victim up tighter than a low-quality sleeping bag, stunning and searing them in one fell swoop. Conveniently gift-wrapped for future snacking.</description>
        <iconPath>UI/Icon/Ability/RGWraithCocoonTrapIcon</iconPath>
        <sendMessageOnCooldownComplete>true</sendMessageOnCooldownComplete>
        <verbProperties>
            <verbClass>Verb_CastAbility</verbClass>
            <range>16.9</range>
            <warmupTime>0.25</warmupTime>
            <soundCast>Rimgate_WraithCocoonTrapCast</soundCast>
            <targetParams>
                <canTargetLocations>false</canTargetLocations>
                <canTargetPawns>true</canTargetPawns>
                <canTargetSelf>false</canTargetSelf>
                <canTargetBuildings>false</canTargetBuildings>
            </targetParams>
        </verbProperties>
        <cooldownTicksRange>420</cooldownTicksRange>
        <aiCanUse>true</aiCanUse>
        <displayGizmoWhileUndrafted>True</displayGizmoWhileUndrafted>
        <disableGizmoWhileUndrafted>false</disableGizmoWhileUndrafted>
        <comps>
            <li Class="Rimgate.CompProperties_MultipleProjectile">
                <compClass>Rimgate.CompAbilityEffect_LaunchMultipleProjectile</compClass>
                <projectile>Rimgate_WraithWeb</projectile>
                <numberOfProjectiles>2</numberOfProjectiles>
            </li>
        </comps>
    </AbilityDef>

    <ThingDef ParentName="BaseBullet">
        <defName>Rimgate_WraithWeb</defName>
        <label>web</label>
        <thingClass>Rimgate.Projectile_AdditionalDamage</thingClass>
        <graphicData>
            <texPath>Things/Projectile/RGCocoonTrapAbilityProjectile</texPath>
            <graphicClass>Graphic_Single</graphicClass>
            <drawSize>2</drawSize>
        </graphicData>
        <projectile>
            <flyOverhead>false</flyOverhead>
            <damageDef>Stun</damageDef>
            <damageAmountBase>5</damageAmountBase>
            <speed>15</speed>
        </projectile>
        <comps>
            <li Class="Rimgate.CompProperties_AdditionalDamage">
                <compClass>Rimgate.Comp_AdditionalDamage</compClass>
                <damageType>Burn</damageType>
            </li>
        </comps>
    </ThingDef>

    <!-- Replicator Spike -->

    <AbilityDef>
        <defName>Rimgate_ReplicatorSpikeAbility</defName>
        <label>spike launch</label>
        <description>Launch a metal spike at a target.</description>
        <cooldownTicksRange>120</cooldownTicksRange>
        <aiCanUse>true</aiCanUse>
        <hostile>true</hostile>
        <verbProperties>
            <verbClass>Verb_AbilityShoot</verbClass>
            <warmupTime>0.5</warmupTime>
            <soundCast>Ability_SpineLaunch</soundCast>
            <ai_IsWeapon>false</ai_IsWeapon>
            <range>12.9</range>
            <defaultProjectile>Rimgate_ReplicatorSpike</defaultProjectile>
        </verbProperties>
    </AbilityDef>

    <ThingDef ParentName="BaseBullet">
        <defName>Rimgate_ReplicatorSpike</defName>
        <label>spike</label>
        <graphicData>
            <graphicClass>Graphic_Single</graphicClass>
        </graphicData>
        <projectile>
            <damageDef>RangedStab</damageDef>
            <damageAmountBase>9</damageAmountBase>
            <armorPenetrationBase>1</armorPenetrationBase>
            <stoppingPower>1</stoppingPower>
            <speed>65</speed>
        </projectile>
        <graphicData>
            <texPath>Things/Projectile/RGReplicatorSpikeProjectile</texPath>
        </graphicData>
    </ThingDef>

    <AbilityDef>
        <defName>Rimgate_ReplicatorPsyspikeAbility</defName>
        <label>psyspikes</label>
        <description>Launch a pair of psy-infused metal spikes at a target.</description>
        <writeCombatLog>True</writeCombatLog>
        <showPsycastEffects>False</showPsycastEffects>
        <cooldownTicksRange>90~180</cooldownTicksRange> <!-- 1.5 to 3 seconds -->
        <aiCanUse>true</aiCanUse>
        <hostile>true</hostile>
        <verbProperties>
            <verbClass>Verb_AbilityShoot</verbClass>
            <defaultProjectile>Bullet_ReplicatorPsyspike</defaultProjectile>
            <range>16.9</range>
            <soundCast>Heatspikes_Shot</soundCast>
            <soundCastTail>Heatspikes_Tail</soundCastTail>
            <muzzleFlashScale>9</muzzleFlashScale>
            <ticksBetweenBurstShots>6</ticksBetweenBurstShots>
            <warmupTime>0</warmupTime>
            <burstShotCount>2</burstShotCount>
            <accuracyTouch>0.9</accuracyTouch>
            <accuracyShort>0.8</accuracyShort>
            <accuracyMedium>0.7</accuracyMedium>
            <accuracyLong>0.6</accuracyLong>
            <ai_IsWeapon>false</ai_IsWeapon>
        </verbProperties>
    </AbilityDef>

    <ThingDef ParentName="BaseBullet">
        <defName>Bullet_ReplicatorPsyspike</defName>
        <label>psyspike shot</label>
        <graphicData>
            <texPath>Things/Projectile/RGReplicatorPsyspikeProjectile</texPath>
            <graphicClass>Graphic_Single</graphicClass>
            <shaderType>TransparentPostLight</shaderType>
        </graphicData>
        <projectile>
            <damageDef>EnergyBolt</damageDef>
            <damageAmountBase>9</damageAmountBase>
            <speed>90</speed>
        </projectile>
    </ThingDef>

</Defs>